const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/index-CBEVDfJV.js","static/index-DUYSZK17.js","static/index-DgjuqbFs.js","static/index-C5Tn4dwJ.js","static/index-CHKke864.js","static/index-u0wpMDJG.js","static/index-B5QpOjcB.js","static/index-D2XwKn17.js","static/index-D0biI5Ro.js","static/sass-BR7ksiGk.js","static/css-Bt2UjfAg.js"])))=>i.map(i=>d[i]);
import{r as g,_ as nt,j as We,b as it,c as ie,am as Ie,I as Oe,an as z,G as at,ao as st,ap as m}from"./sanity-BPgKKUuh.js";import{S as Pe,a as Z,P as ot,E as p,b as w,F as Fe,g as Ne,Y as lt,V as He,s as ct,c as Be,d as ht,e as ut,f as dt,D as x,i as re,R as ft,h as M,r as mt,C as L,j as qe,k as gt,l as pt,m as bt,n as xt,o as yt,p as vt,q as $e,t as St,u as _t,v as kt,w as Et,x as Ct,y as Mt,z as Lt,A as Ve,B as Tt,G as At,H as Rt,I as wt,J as Dt,K as Wt,L as It,M as Ot,N as ze,O as Pt,Q as Ft,T as Nt,U as Ht,W as Bt,X as h,Z as O}from"./index-DgjuqbFs.js";const Me=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class X{constructor(e,r,i=0,n=e.length,a,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=a?o=>a(Me(o)):Me,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ht(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=dt(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=ut(e);let n=this.normalize(r);if(n.length)for(let a=0,s=i;;a++){let o=n.charCodeAt(a),l=this.match(o,s,this.bufferPos+this.bufferStart);if(a==n.length-1){if(l)return this.value=l,this;break}s==i&&a<r.length&&r.charCodeAt(a)==o&&s++}}}match(e,r,i){let n=null;for(let a=0;a<this.matches.length;a+=2){let s=this.matches[a],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?n={from:this.matches[a+1],to:i}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:r,to:i}:this.matches.push(1,r)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(X.prototype[Symbol.iterator]=function(){return this});const je={from:-1,to:-1,match:/.*/.exec("")},ve="gm"+(/x/.unicode==null?"":"u");class Ke{constructor(e,r,i,n=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=je,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Ge(e,r,i,n,a);this.re=new RegExp(r,ve+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let s=e.lineAt(n);this.curLineStart=s.from,this.matchPos=ce(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let i=this.curLineStart+r.index,n=i+r[0].length;if(this.matchPos=ce(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,r)))return this.value={from:i,to:n,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ge=new WeakMap;class Y{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,i){let n=ge.get(e);if(!n||n.from>=i||n.to<=r){let o=new Y(r,e.sliceString(r,i));return ge.set(e,o),o}if(n.from==r&&n.to==i)return n;let{text:a,from:s}=n;return s>r&&(a=e.sliceString(r,s)+a,s=r),n.to<i&&(a+=e.sliceString(n.to,i)),ge.set(e,new Y(s,a)),new Y(r,a.slice(r-s,i-s))}}class Ge{constructor(e,r,i,n,a){this.text=e,this.to=a,this.done=!1,this.value=je,this.matchPos=ce(e,n),this.re=new RegExp(r,ve+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=Y.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let i=this.flat.from+r.index,n=i+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,n,r)))return this.value={from:i,to:n,match:r},this.matchPos=ce(this.text,n+(i==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Y.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Ke.prototype[Symbol.iterator]=Ge.prototype[Symbol.iterator]=function(){return this});function qt(t){try{return new RegExp(t,ve),!0}catch{return!1}}function ce(t,e){if(e>=t.length)return e;let r=t.lineAt(e),i;for(;e<r.to&&(i=r.text.charCodeAt(e-r.from))>=56320&&i<57344;)e++;return e}const $t=t=>{let{state:e}=t,r=String(e.doc.lineAt(t.state.selection.main.head).number),{close:i,result:n}=lt(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:r},focus:!0,submitLabel:e.phrase("go")});return n.then(a=>{let s=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!s){t.dispatch({effects:i});return}let o=e.doc.lineAt(e.selection.main.head),[,l,c,u,f]=s,b=u?+u.slice(1):0,_=c?+c:o.number;if(c&&f){let E=_/100;l&&(E=E*(l=="-"?-1:1)+o.number/e.doc.lines),_=Math.round(e.doc.lines*E)}else c&&l&&(_=_*(l=="-"?-1:1)+o.number);let T=e.doc.line(Math.max(1,Math.min(e.doc.lines,_))),k=w.cursor(T.from+Math.max(0,Math.min(b,T.length)));t.dispatch({effects:[i,p.scrollIntoView(k.from,{y:"center"})],selection:k})}),!0},Vt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},zt=Fe.define({combine(t){return Be(t,Vt,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function jt(t){return[Jt,Ut]}const Kt=x.mark({class:"cm-selectionMatch"}),Gt=x.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Le(t,e,r,i){return(r==0||t(e.sliceDoc(r-1,r))!=L.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=L.Word)}function Qt(t,e,r,i){return t(e.sliceDoc(r,r+1))==L.Word&&t(e.sliceDoc(i-1,i))==L.Word}const Ut=He.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(zt),{state:r}=t,i=r.selection;if(i.ranges.length>1)return x.none;let n=i.main,a,s=null;if(n.empty){if(!e.highlightWordAroundCursor)return x.none;let l=r.wordAt(n.head);if(!l)return x.none;s=r.charCategorizer(n.head),a=r.sliceDoc(l.from,l.to)}else{let l=n.to-n.from;if(l<e.minSelectionLength||l>200)return x.none;if(e.wholeWords){if(a=r.sliceDoc(n.from,n.to),s=r.charCategorizer(n.head),!(Le(s,r,n.from,n.to)&&Qt(s,r,n.from,n.to)))return x.none}else if(a=r.sliceDoc(n.from,n.to),!a)return x.none}let o=[];for(let l of t.visibleRanges){let c=new X(r.doc,a,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!s||Le(s,r,u,f))&&(n.empty&&u<=n.from&&f>=n.to?o.push(Gt.range(u,f)):(u>=n.to||f<=n.from)&&o.push(Kt.range(u,f)),o.length>e.maxMatches))return x.none}}return x.set(o)}},{decorations:t=>t.decorations}),Jt=p.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Yt=({state:t,dispatch:e})=>{let{selection:r}=t,i=w.create(r.ranges.map(n=>t.wordAt(n.head)||w.cursor(n.head)),r.mainIndex);return i.eq(r)?!1:(e(t.update({selection:i})),!0)};function Xt(t,e){let{main:r,ranges:i}=t.selection,n=t.wordAt(r.head),a=n&&n.from==r.from&&n.to==r.to;for(let s=!1,o=new X(t.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(s)return null;o=new X(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),s=!0}else{if(s&&i.some(l=>l.from==o.value.from))continue;if(a){let l=t.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const Zt=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(a=>a.from===a.to))return Yt({state:t,dispatch:e});let i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=i))return!1;let n=Xt(t,i);return n?(e(t.update({selection:t.selection.addRange(w.range(n.from,n.to),!1),effects:p.scrollIntoView(n.to)})),!0):!1},ee=Fe.define({combine(t){return Be(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new fr(e),scrollToMatch:e=>p.scrollIntoView(e)})}});class Qe{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||qt(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new ar(this):new rr(this)}getCursor(e,r=0,i){let n=e.doc?e:re.create({doc:e});return i==null&&(i=n.doc.length),this.regexp?J(this,n,r,i):U(this,n,r,i)}}class Ue{constructor(e){this.spec=e}}function er(t,e,r){return(i,n,a,s)=>{if(r&&!r(i,n,a,s))return!1;let o=i>=s&&n<=s+a.length?a.slice(i-s,n-s):e.doc.sliceString(i,n);return t(o,e,i,n)}}function U(t,e,r,i){let n;return t.wholeWord&&(n=tr(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(n=er(t.test,e,n)),new X(e.doc,t.unquoted,r,i,t.caseSensitive?void 0:a=>a.toLowerCase(),n)}function tr(t,e){return(r,i,n,a)=>((a>r||a+n.length<i)&&(a=Math.max(0,r-2),n=t.sliceString(a,Math.min(t.length,i+2))),(e(he(n,r-a))!=L.Word||e(ue(n,r-a))!=L.Word)&&(e(ue(n,i-a))!=L.Word||e(he(n,i-a))!=L.Word))}class rr extends Ue{constructor(e){super(e)}nextMatch(e,r,i){let n=U(this.spec,e,i,e.doc.length).nextOverlapping();if(n.done){let a=Math.min(e.doc.length,r+this.spec.unquoted.length);n=U(this.spec,e,0,a).nextOverlapping()}return n.done||n.value.from==r&&n.value.to==i?null:n.value}prevMatchInRange(e,r,i){for(let n=i;;){let a=Math.max(r,n-1e4-this.spec.unquoted.length),s=U(this.spec,e,a,n),o=null;for(;!s.nextOverlapping().done;)o=s.value;if(o)return o;if(a==r)return null;n-=1e4}}prevMatch(e,r,i){let n=this.prevMatchInRange(e,0,r);return n||(n=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),n&&(n.from!=r||n.to!=i)?n:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let i=U(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=r)return null;n.push(i.value)}return n}highlight(e,r,i,n){let a=U(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)n(a.value.from,a.value.to)}}function nr(t,e,r){return(i,n,a)=>(!r||r(i,n,a))&&t(a[0],e,i,n)}function J(t,e,r,i){let n;return t.wholeWord&&(n=ir(e.charCategorizer(e.selection.main.head))),t.test&&(n=nr(t.test,e,n)),new Ke(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:n},r,i)}function he(t,e){return t.slice(qe(t,e,!1),e)}function ue(t,e){return t.slice(e,qe(t,e))}function ir(t){return(e,r,i)=>!i[0].length||(t(he(i.input,i.index))!=L.Word||t(ue(i.input,i.index))!=L.Word)&&(t(ue(i.input,i.index+i[0].length))!=L.Word||t(he(i.input,i.index+i[0].length))!=L.Word)}class ar extends Ue{nextMatch(e,r,i){let n=J(this.spec,e,i,e.doc.length).next();return n.done&&(n=J(this.spec,e,0,r).next()),n.done?null:n.value}prevMatchInRange(e,r,i){for(let n=1;;n++){let a=Math.max(r,i-n*1e4),s=J(this.spec,e,a,i),o=null;for(;!s.next().done;)o=s.value;if(o&&(a==r||o.from>a+10))return o;if(a==r)return null}}prevMatch(e,r,i){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let n=i.length;n>0;n--){let a=+i.slice(0,n);if(a>0&&a<e.match.length)return e.match[a]+i.slice(n)}return r})}matchAll(e,r){let i=J(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=r)return null;n.push(i.value)}return n}highlight(e,r,i,n){let a=J(this.spec,e,Math.max(0,r-250),Math.min(i+250,e.doc.length));for(;!a.next().done;)n(a.value.from,a.value.to)}}const ne=Z.define(),Se=Z.define(),j=Pe.define({create(t){return new pe(xe(t).create(),null)},update(t,e){for(let r of e.effects)r.is(ne)?t=new pe(r.value.create(),t.panel):r.is(Se)&&(t=new pe(t.query,r.value?_e:null));return t},provide:t=>ct.from(t,e=>e.panel)});class pe{constructor(e,r){this.query=e,this.panel=r}}const sr=x.mark({class:"cm-searchMatch"}),or=x.mark({class:"cm-searchMatch cm-searchMatch-selected"}),lr=He.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(j))}update(t){let e=t.state.field(j);(e!=t.startState.field(j)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return x.none;let{view:r}=this,i=new ft;for(let n=0,a=r.visibleRanges,s=a.length;n<s;n++){let{from:o,to:l}=a[n];for(;n<s-1&&l>a[n+1].from-500;)l=a[++n].to;t.highlight(r.state,o,l,(c,u)=>{let f=r.state.selection.ranges.some(b=>b.from==c&&b.to==u);i.add(c,u,f?or:sr)})}return i.finish()}},{decorations:t=>t.decorations});function ae(t){return e=>{let r=e.state.field(j,!1);return r&&r.query.spec.valid?t(e,r):Xe(e)}}const de=ae((t,{query:e})=>{let{to:r}=t.state.selection.main,i=e.nextMatch(t.state,r,r);if(!i)return!1;let n=w.single(i.from,i.to),a=t.state.facet(ee);return t.dispatch({selection:n,effects:[ke(t,i),a.scrollToMatch(n.main,t)],userEvent:"select.search"}),Ye(t),!0}),fe=ae((t,{query:e})=>{let{state:r}=t,{from:i}=r.selection.main,n=e.prevMatch(r,i,i);if(!n)return!1;let a=w.single(n.from,n.to),s=t.state.facet(ee);return t.dispatch({selection:a,effects:[ke(t,n),s.scrollToMatch(a.main,t)],userEvent:"select.search"}),Ye(t),!0}),cr=ae((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:w.create(r.map(i=>w.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),hr=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:i,to:n}=r.main,a=[],s=0;for(let o=new X(t.doc,t.sliceDoc(i,n));!o.next().done;){if(a.length>1e3)return!1;o.value.from==i&&(s=a.length),a.push(w.range(o.value.from,o.value.to))}return e(t.update({selection:w.create(a,s),userEvent:"select.search.matches"})),!0},Te=ae((t,{query:e})=>{let{state:r}=t,{from:i,to:n}=r.selection.main;if(r.readOnly)return!1;let a=e.nextMatch(r,i,i);if(!a)return!1;let s=a,o=[],l,c,u=[];s.from==i&&s.to==n&&(c=r.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:c}),s=e.nextMatch(r,s.from,s.to),u.push(p.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(i).number)+".")));let f=t.state.changes(o);return s&&(l=w.single(s.from,s.to).map(f),u.push(ke(t,s)),u.push(r.facet(ee).scrollToMatch(l.main,t))),t.dispatch({changes:f,selection:l,effects:u,userEvent:"input.replace"}),!0}),ur=ae((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(n=>{let{from:a,to:s}=n;return{from:a,to:s,insert:e.getReplacement(n)}});if(!r.length)return!1;let i=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:p.announce.of(i),userEvent:"input.replace.all"}),!0});function _e(t){return t.state.facet(ee).createPanel(t)}function xe(t,e){var r,i,n,a,s;let o=t.selection.main,l=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!l)return e;let c=t.facet(ee);return new Qe({search:((r=e?.literal)!==null&&r!==void 0?r:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(n=e?.literal)!==null&&n!==void 0?n:c.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:c.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function Je(t){let e=Ne(t,_e);return e&&e.dom.querySelector("[main-field]")}function Ye(t){let e=Je(t);e&&e==t.root.activeElement&&e.select()}const Xe=t=>{let e=t.state.field(j,!1);if(e&&e.panel){let r=Je(t);if(r&&r!=t.root.activeElement){let i=xe(t.state,e.query.spec);i.valid&&t.dispatch({effects:ne.of(i)}),r.focus(),r.select()}}else t.dispatch({effects:[Se.of(!0),e?ne.of(xe(t.state,e.query.spec)):Z.appendConfig.of(gr)]});return!0},Ze=t=>{let e=t.state.field(j,!1);if(!e||!e.panel)return!1;let r=Ne(t,_e);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Se.of(!1)}),!0},dr=[{key:"Mod-f",run:Xe,scope:"editor search-panel"},{key:"F3",run:de,shift:fe,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:de,shift:fe,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Ze,scope:"editor search-panel"},{key:"Mod-Shift-l",run:hr},{key:"Mod-Alt-g",run:$t},{key:"Mod-d",run:Zt,preventDefault:!0}];class fr{constructor(e){this.view=e;let r=this.query=e.state.field(j).query.spec;this.commit=this.commit.bind(this),this.searchField=M("input",{value:r.search,placeholder:S(e,"Find"),"aria-label":S(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=M("input",{value:r.replace,placeholder:S(e,"Replace"),"aria-label":S(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=M("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=M("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=M("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function i(n,a,s){return M("button",{class:"cm-button",name:n,onclick:a,type:"button"},s)}this.dom=M("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,i("next",()=>de(e),[S(e,"next")]),i("prev",()=>fe(e),[S(e,"previous")]),i("select",()=>cr(e),[S(e,"all")]),M("label",null,[this.caseField,S(e,"match case")]),M("label",null,[this.reField,S(e,"regexp")]),M("label",null,[this.wordField,S(e,"by word")]),...e.state.readOnly?[]:[M("br"),this.replaceField,i("replace",()=>Te(e),[S(e,"replace")]),i("replaceAll",()=>ur(e),[S(e,"replace all")])],M("button",{name:"close",onclick:()=>Ze(e),"aria-label":S(e,"close"),type:"button"},["Ã—"])])}commit(){let e=new Qe({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ne.of(e)}))}keydown(e){mt(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?fe:de)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Te(this.view))}update(e){for(let r of e.transactions)for(let i of r.effects)i.is(ne)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ee).top}}function S(t,e){return t.state.phrase(e)}const se=30,oe=/[\s\.,:;?!]/;function ke(t,{from:e,to:r}){let i=t.state.doc.lineAt(e),n=t.state.doc.lineAt(r).to,a=Math.max(i.from,e-se),s=Math.min(n,r+se),o=t.state.sliceDoc(a,s);if(a!=i.from){for(let l=0;l<se;l++)if(!oe.test(o[l+1])&&oe.test(o[l])){o=o.slice(l);break}}if(s!=n){for(let l=o.length-1;l>o.length-se;l--)if(!oe.test(o[l-1])&&oe.test(o[l])){o=o.slice(0,l);break}}return p.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${i.number}.`)}const mr=p.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),gr=[j,ot.low(lr),mr];var Ae=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(gt)),e.defaultKeymap!==!1&&(i=i.concat(pt)),e.searchKeymap!==!1&&(i=i.concat(dr)),e.historyKeymap!==!1&&(i=i.concat(bt)),e.foldKeymap!==!1&&(i=i.concat(xt)),e.completionKeymap!==!1&&(i=i.concat(yt)),e.lintKeymap!==!1&&(i=i.concat(vt));var n=[];return e.lineNumbers!==!1&&n.push($e()),e.highlightActiveLineGutter!==!1&&n.push(St()),e.highlightSpecialChars!==!1&&n.push(_t()),e.history!==!1&&n.push(kt()),e.foldGutter!==!1&&n.push(Et()),e.drawSelection!==!1&&n.push(Ct()),e.dropCursor!==!1&&n.push(Mt()),e.allowMultipleSelections!==!1&&n.push(re.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&n.push(Lt()),e.syntaxHighlighting!==!1&&n.push(Ve(Tt,{fallback:!0})),e.bracketMatching!==!1&&n.push(At()),e.closeBrackets!==!1&&n.push(Rt()),e.autocompletion!==!1&&n.push(wt()),e.rectangularSelection!==!1&&n.push(Dt()),r!==!1&&n.push(Wt()),e.highlightActiveLine!==!1&&n.push(It()),e.highlightSelectionMatches!==!1&&n.push(jt()),e.tabSize&&typeof e.tabSize=="number"&&n.push(Ot.of(" ".repeat(e.tabSize))),n.concat([ze.of(i.flat())]).filter(Boolean)},pr=p.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),br=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:i=!0,readOnly:n=!1,theme:a="light",placeholder:s="",basicSetup:o=!0}=e,l=[];switch(r&&l.unshift(ze.of([Pt])),o&&(typeof o=="boolean"?l.unshift(Ae()):l.unshift(Ae(o))),s&&l.unshift(Ft(s)),a){case"light":l.push(pr);break;case"dark":l.push(Nt);break;case"none":break;default:l.push(a);break}return i===!1&&l.push(p.editable.of(!1)),n&&l.push(re.readOnly.of(!0)),[...l]},xr=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class yr{constructor(e,r){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=r,this.timeoutMS=r,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(r=>{try{r()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Re{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var be=null,vr=()=>typeof window>"u"?new Re:(be||(be=new Re),be),we=Ht.define(),Sr=200,_r=[];function kr(t){var{value:e,selection:r,onChange:i,onStatistics:n,onCreateEditor:a,onUpdate:s,extensions:o=_r,autoFocus:l,theme:c="light",height:u=null,minHeight:f=null,maxHeight:b=null,width:_=null,minWidth:T=null,maxWidth:k=null,placeholder:E="",editable:P=!0,readOnly:F=!1,indentWithTab:B=!0,basicSetup:q=!0,root:K,initialState:D}=t,[A,N]=g.useState(),[d,v]=g.useState(),[$,R]=g.useState(),y=g.useState(()=>({current:null}))[0],C=g.useState(()=>({current:null}))[0],W=p.theme({"&":{height:u,minHeight:f,maxHeight:b,width:_,minWidth:T,maxWidth:k},"& .cm-scroller":{height:"100% !important"}}),V=p.updateListener.of(I=>{if(I.docChanged&&typeof i=="function"&&!I.transactions.some(me=>me.annotation(we))){y.current?y.current.reset():(y.current=new yr(()=>{if(C.current){var me=C.current;C.current=null,me()}y.current=null},Sr),vr().add(y.current));var G=I.state.doc,Q=G.toString();i(Q,I)}n&&n(xr(I))}),H=br({theme:c,editable:P,readOnly:F,placeholder:E,indentWithTab:B,basicSetup:q}),te=[V,W,...H];return s&&typeof s=="function"&&te.push(p.updateListener.of(s)),te=te.concat(o),g.useLayoutEffect(()=>{if(A&&!$){var I={doc:e,selection:r,extensions:te},G=D?re.fromJSON(D.json,I,D.fields):re.create(I);if(R(G),!d){var Q=new p({state:G,parent:A,root:K});v(Q),a&&a(Q,G)}}return()=>{d&&(R(void 0),v(void 0))}},[A,$]),g.useEffect(()=>{t.container&&N(t.container)},[t.container]),g.useEffect(()=>()=>{d&&(d.destroy(),v(void 0)),y.current&&(y.current.cancel(),y.current=null)},[d]),g.useEffect(()=>{l&&d&&d.focus()},[l,d]),g.useEffect(()=>{d&&d.dispatch({effects:Z.reconfigure.of(te)})},[c,o,u,f,b,_,T,k,E,P,F,B,q,i,s]),g.useEffect(()=>{if(e!==void 0){var I=d?d.state.doc.toString():"";if(d&&e!==I){var G=y.current&&!y.current.isDone,Q=()=>{d&&e!==d.state.doc.toString()&&d.dispatch({changes:{from:0,to:d.state.doc.toString().length,insert:e||""},annotations:[we.of(!0)]})};G?C.current=Q:Q()}}},[e,d]),{state:$,setState:R,view:d,setView:v,container:A,setContainer:N}}var Er=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],et=g.forwardRef((t,e)=>{var{className:r,value:i="",selection:n,extensions:a=[],onChange:s,onStatistics:o,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:f="light",height:b,minHeight:_,maxHeight:T,width:k,minWidth:E,maxWidth:P,basicSetup:F,placeholder:B,indentWithTab:q,editable:K,readOnly:D,root:A,initialState:N}=t,d=nt(t,Er),v=g.useRef(null),{state:$,view:R,container:y,setContainer:C}=kr({root:A,value:i,autoFocus:u,theme:f,height:b,minHeight:_,maxHeight:T,width:k,minWidth:E,maxWidth:P,basicSetup:F,placeholder:B,indentWithTab:q,editable:K,readOnly:D,selection:n,onChange:s,onStatistics:o,onCreateEditor:l,onUpdate:c,extensions:a,initialState:N});g.useImperativeHandle(e,()=>({editor:v.current,state:$,view:R}),[v,y,$,R]);var W=g.useCallback(H=>{v.current=H,C(H)},[C]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var V=typeof f=="string"?"cm-theme-"+f:"cm-theme";return We.jsx("div",it({ref:W,className:""+V+(r?" "+r:"")},d))});et.displayName="CodeMirror";var Cr=t=>{var{theme:e,settings:r={},styles:i=[]}=t,n={".cm-gutters":{}},a={};r.background&&(a.backgroundColor=r.background),r.backgroundImage&&(a.backgroundImage=r.backgroundImage),r.foreground&&(a.color=r.foreground),r.fontSize&&(a.fontSize=r.fontSize),(r.background||r.foreground)&&(n["&"]=a),r.fontFamily&&(n["&.cm-editor .cm-scroller"]={fontFamily:r.fontFamily}),r.gutterBackground&&(n[".cm-gutters"].backgroundColor=r.gutterBackground),r.gutterForeground&&(n[".cm-gutters"].color=r.gutterForeground),r.gutterBorder&&(n[".cm-gutters"].borderRightColor=r.gutterBorder),r.caret&&(n[".cm-content"]={caretColor:r.caret},n[".cm-cursor, .cm-dropCursor"]={borderLeftColor:r.caret});var s={};r.gutterActiveForeground&&(s.color=r.gutterActiveForeground),r.lineHighlight&&(n[".cm-activeLine"]={backgroundColor:r.lineHighlight},s.backgroundColor=r.lineHighlight),n[".cm-activeLineGutter"]=s,r.selection&&(n["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:r.selection+" !important"}),r.selectionMatch&&(n["& .cm-selectionMatch"]={backgroundColor:r.selectionMatch});var o=p.theme(n,{dark:e==="dark"}),l=Bt.define(i),c=[o,Ve(l)];return c};const Mr=[{name:"groq",loader:()=>m(async()=>{const{javascriptLanguage:t}=await import("./index-CBEVDfJV.js");return{javascriptLanguage:t}},__vite__mapDeps([0,1,2])).then(({javascriptLanguage:t})=>t)},{name:"javascript",loader:()=>m(async()=>{const{javascript:t}=await import("./index-CBEVDfJV.js");return{javascript:t}},__vite__mapDeps([0,1,2])).then(({javascript:t})=>t({jsx:!1}))},{name:"jsx",loader:()=>m(async()=>{const{javascript:t}=await import("./index-CBEVDfJV.js");return{javascript:t}},__vite__mapDeps([0,1,2])).then(({javascript:t})=>t({jsx:!0}))},{name:"typescript",loader:()=>m(async()=>{const{javascript:t}=await import("./index-CBEVDfJV.js");return{javascript:t}},__vite__mapDeps([0,1,2])).then(({javascript:t})=>t({jsx:!1,typescript:!0}))},{name:"tsx",loader:()=>m(async()=>{const{javascript:t}=await import("./index-CBEVDfJV.js");return{javascript:t}},__vite__mapDeps([0,1,2])).then(({javascript:t})=>t({jsx:!0,typescript:!0}))},{name:"php",loader:()=>m(async()=>{const{php:t}=await import("./index-C5Tn4dwJ.js");return{php:t}},__vite__mapDeps([3,1,2,4,0])).then(({php:t})=>t())},{name:"sql",loader:()=>m(async()=>{const{sql:t}=await import("./index-u0wpMDJG.js");return{sql:t}},__vite__mapDeps([5,2,1])).then(({sql:t})=>t())},{name:"mysql",loader:()=>m(async()=>{const{sql:t,MySQL:e}=await import("./index-u0wpMDJG.js");return{sql:t,MySQL:e}},__vite__mapDeps([5,2,1])).then(({sql:t,MySQL:e})=>t({dialect:e}))},{name:"json",loader:()=>m(async()=>{const{json:t}=await import("./index-B5QpOjcB.js");return{json:t}},__vite__mapDeps([6,1,2])).then(({json:t})=>t())},{name:"markdown",loader:()=>m(async()=>{const{markdown:t}=await import("./index-D2XwKn17.js");return{markdown:t}},__vite__mapDeps([7,2,4,1,0])).then(({markdown:t})=>t())},{name:"java",loader:()=>m(async()=>{const{java:t}=await import("./index-D0biI5Ro.js");return{java:t}},__vite__mapDeps([8,1,2])).then(({java:t})=>t())},{name:"html",loader:()=>m(async()=>{const{html:t}=await import("./index-CHKke864.js");return{html:t}},__vite__mapDeps([4,1,2,0])).then(({html:t})=>t())},{name:"csharp",loader:()=>m(async()=>{const{csharp:t}=await import("./clike-CjuBxE1O.js");return{csharp:t}},[]).then(({csharp:t})=>O.define(t))},{name:"sh",loader:()=>m(async()=>{const{shell:t}=await import("./shell-CjFT_Tl9.js");return{shell:t}},[]).then(({shell:t})=>O.define(t))},{name:"css",loader:()=>m(async()=>{const{css:t}=await import("./css-Bt2UjfAg.js");return{css:t}},[]).then(({css:t})=>O.define(t))},{name:"scss",loader:()=>m(async()=>{const{css:t}=await import("./css-Bt2UjfAg.js");return{css:t}},[]).then(({css:t})=>O.define(t))},{name:"sass",loader:()=>m(async()=>{const{sass:t}=await import("./sass-BR7ksiGk.js");return{sass:t}},__vite__mapDeps([9,10])).then(({sass:t})=>O.define(t))},{name:"ruby",loader:()=>m(async()=>{const{ruby:t}=await import("./ruby-B2Rjki9n.js");return{ruby:t}},[]).then(({ruby:t})=>O.define(t))},{name:"python",loader:()=>m(async()=>{const{python:t}=await import("./python-jWMSN8OU.js");return{python:t}},[]).then(({python:t})=>O.define(t))},{name:"xml",loader:()=>m(async()=>{const{xml:t}=await import("./xml-BFMHta2a.js");return{xml:t}},[]).then(({xml:t})=>O.define(t))},{name:"yaml",loader:()=>m(async()=>{const{yaml:t}=await import("./yaml-DsCXHVTH.js");return{yaml:t}},[]).then(({yaml:t})=>O.define(t))},{name:"golang",loader:()=>m(async()=>{const{go:t}=await import("./go-CTD25R5P.js");return{go:t}},[]).then(({go:t})=>O.define(t))},{name:"text",loader:()=>{}},{name:"batch",loader:()=>{}}];function tt(t){return t.tone!=="neutral"&&t.tone!=="suggest"?t.tone:t.tone==="neutral"?"default":"primary"}const le="cm-highlight-line",Ee=Z.define(),Ce=Z.define(),ye=Pe.define({create(){return x.none},update(t,e){t=t.map(e.changes);for(const r of e.effects)r.is(Ee)&&(t=t.update({add:[De.range(r.value)]})),r.is(Ce)&&(t=t.update({filter:i=>i!==r.value}));return t},toJSON(t,e){const r=[],i=t.iter();for(;i.value;){const n=e.doc.lineAt(i.from).number;r.includes(n)||r.push(n),i.next()}return r},fromJSON(t,e){const r=e.doc.lines,i=t.filter(n=>n<=r).map(n=>De.range(e.doc.line(n).from));i.sort((n,a)=>n.from-a.from);try{return x.none.update({add:i})}catch(n){return console.error(n),x.none}},provide:t=>p.decorations.from(t)}),De=x.line({class:le}),rt={highlight:ye};function Lr(t){const{themeCtx:e}=t,r=tt(e),i={color:e.theme.color.dark[r]},n={color:e.theme.color.light[r]};return p.baseTheme({".cm-lineNumbers":{cursor:"default"},".cm-line.cm-line":{position:"relative"},[`.${le}::before`]:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:-3,content:"''",boxSizing:"border-box"},[`&dark .${le}::before`]:{background:z(i.color.muted.caution.pressed.bg,.5)},[`&light .${le}::before`]:{background:z(n.color.muted.caution.pressed.bg,.75)}})}const Tr=t=>{const e=Lr({themeCtx:t.theme});return[ye,t.readOnly?[]:$e({domEventHandlers:{mousedown:(r,i)=>{const n=r.state.doc.lineAt(i.from);let a=!1;return r.state.field(ye).between(n.from,n.to,(s,o,l)=>{if(l)return a=!0,!1}),a?r.dispatch({effects:Ce.of(n.from)}):r.dispatch({effects:Ee.of(n.from)}),t?.onHighlightChange&&t.onHighlightChange(r.state.toJSON(rt).highlight),!0}}}),e]};function Ar(t,e){const r=t.state.doc,i=r.lines,n=Array.from({length:i},(a,s)=>s+1);t.dispatch({effects:n.map(a=>{const s=r.line(a);return e?.includes(a)?Ee.of(s.from):Ce.of(s.from)})})}function Rr(){const t=ie.c(6),e=Ie();let r;t[0]!==e?(r=tt(e),t[0]=e,t[1]=r):r=t[1];const i=r,n=e.theme.color.dark[i];let a;if(t[2]!==i||t[3]!==n||t[4]!==e.theme.color.light){const s={color:n},o={color:e.theme.color.light[i]};a=p.baseTheme({"&.cm-editor":{height:"100%"},"&.cm-editor.cm-focused":{outline:"none"},"&.cm-editor.cm-focused .cm-matchingBracket":{backgroundColor:"transparent"},"&.cm-editor.cm-focused .cm-nonmatchingBracket":{backgroundColor:"transparent"},"&dark.cm-editor.cm-focused .cm-matchingBracket":{outline:`1px solid ${s.color.base.border}`},"&dark.cm-editor.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${s.color.base.border}`},"&light.cm-editor.cm-focused .cm-matchingBracket":{outline:`1px solid ${o.color.base.border}`},"&light.cm-editor.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${o.color.base.border}`},"& .cm-lineNumbers .cm-gutterElement":{minWidth:"32px !important",padding:"0 8px !important"},"& .cm-gutter.cm-foldGutter":{width:"0px !important"},"&dark .cm-gutters":{color:`${z(s.color.card.enabled.code.fg,.5)} !important`,borderRight:`1px solid ${z(s.color.base.border,.5)}`},"&light .cm-gutters":{color:`${z(o.color.card.enabled.code.fg,.5)} !important`,borderRight:`1px solid ${z(o.color.base.border,.5)}`}}),t[2]=i,t[3]=n,t[4]=e.theme.color.light,t[5]=a}else a=t[5];return a}function wr(){const t=ie.c(19),e=Oe(),{code:r}=e.sanity.fonts,{base:i,card:n,dark:a,syntax:s}=e.sanity.color,o=a?"dark":"light";let l;return t[0]!==i.focusRing||t[1]!==n.disabled.bg||t[2]!==n.disabled.code.fg||t[3]!==n.enabled.bg||t[4]!==n.enabled.code.fg||t[5]!==n.enabled.fg||t[6]!==r.family||t[7]!==s.attrName||t[8]!==s.boolean||t[9]!==s.className||t[10]!==s.comment||t[11]!==s.function||t[12]!==s.keyword||t[13]!==s.number||t[14]!==s.operator||t[15]!==s.property||t[16]!==s.string||t[17]!==o?(l=Cr({theme:o,settings:{background:n.enabled.bg,foreground:n.enabled.code.fg,lineHighlight:n.enabled.bg,fontFamily:r.family,caret:i.focusRing,selection:z(i.focusRing,.2),selectionMatch:z(i.focusRing,.4),gutterBackground:n.disabled.bg,gutterForeground:n.disabled.code.fg,gutterActiveForeground:n.enabled.fg},styles:[{tag:[h.heading,h.heading2,h.heading3,h.heading4,h.heading5,h.heading6],color:n.enabled.fg},{tag:h.angleBracket,color:n.enabled.code.fg},{tag:h.atom,color:s.keyword},{tag:h.attributeName,color:s.attrName},{tag:h.bool,color:s.boolean},{tag:h.bracket,color:n.enabled.code.fg},{tag:h.className,color:s.className},{tag:h.comment,color:s.comment},{tag:h.definition(h.typeName),color:s.function},{tag:[h.definition(h.variableName),h.function(h.variableName),h.className,h.attributeName],color:s.function},{tag:[h.function(h.propertyName),h.propertyName],color:s.function},{tag:h.keyword,color:s.keyword},{tag:h.null,color:s.number},{tag:h.number,color:s.number},{tag:h.meta,color:n.enabled.code.fg},{tag:h.operator,color:s.operator},{tag:h.propertyName,color:s.property},{tag:[h.string,h.special(h.brace)],color:s.string},{tag:h.tagName,color:s.className},{tag:h.typeName,color:s.keyword}]}),t[0]=i.focusRing,t[1]=n.disabled.bg,t[2]=n.disabled.code.fg,t[3]=n.enabled.bg,t[4]=n.enabled.code.fg,t[5]=n.enabled.fg,t[6]=r.family,t[7]=s.attrName,t[8]=s.boolean,t[9]=s.className,t[10]=s.comment,t[11]=s.function,t[12]=s.keyword,t[13]=s.number,t[14]=s.operator,t[15]=s.property,t[16]=s.string,t[17]=o,t[18]=l):l=t[18],l}function Dr(t){const e=ie.c(3),{fontSize:r}=t,i=Oe(),{code:n}=i.sanity.fonts,{fontSize:a,lineHeight:s}=n.sizes[r]||n.sizes[2];let o;return e[0]!==a||e[1]!==s?(o=p.baseTheme({"&":{fontSize:at(a)},"& .cm-scroller":{lineHeight:`${s/a} !important`}}),e[0]=a,e[1]=s,e[2]=o):o=e[2],o}const Pr=g.forwardRef(function(t,e){const r=ie.c(41);let i,n,a,s,o,l,c;r[0]!==t?({basicSetup:i,highlightLines:a,languageMode:s,onHighlightChange:o,readOnly:l,value:c,...n}=t,r[0]=t,r[1]=i,r[2]=n,r[3]=a,r[4]=s,r[5]=o,r[6]=l,r[7]=c):(i=r[1],n=r[2],a=r[3],s=r[4],o=r[5],l=r[6],c=r[7]);const u=Ie(),f=wr(),[b,_]=g.useState(void 0),T=Rr();let k;r[8]===Symbol.for("react.memo_cache_sentinel")?(k={fontSize:1},r[8]=k):k=r[8];const E=Dr(k),P=Wr(s);let F;r[9]!==o||r[10]!==l||r[11]!==u?(F=Tr({onHighlightChange:o,readOnly:l,theme:u}),r[9]=o,r[10]=l,r[11]=u,r[12]=F):F=r[12];const B=F;let q;e:{let W;r[13]!==E||r[14]!==B||r[15]!==T?(W=[T,E,B,p.lineWrapping],r[13]=E,r[14]=B,r[15]=T,r[16]=W):W=r[16];const V=W;if(P){let H;r[17]!==V||r[18]!==P?(H=[...V,P],r[17]=V,r[18]=P,r[19]=H):H=r[19],q=H;break e}q=V}const K=q;let D;r[20]!==b||r[21]!==a?(D=()=>{b&&Ar(b,a??[])},r[20]=b,r[21]=a,r[22]=D):D=r[22];let A;r[23]!==b||r[24]!==a||r[25]!==c?(A=[b,a,c],r[23]=b,r[24]=a,r[25]=c,r[26]=A):A=r[26],g.useEffect(D,A);let N;r[27]!==a||r[28]!==c?(N=()=>({json:{doc:c??"",selection:{main:0,ranges:[{anchor:0,head:0}]},highlight:a??[]},fields:rt}),r[27]=a,r[28]=c,r[29]=N):N=r[29];const[d]=g.useState(N);let v;r[30]===Symbol.for("react.memo_cache_sentinel")?(v=W=>{_(W)},r[30]=v):v=r[30];const $=v;let R;r[31]!==i?(R=i??{highlightActiveLine:!1},r[31]=i,r[32]=R):R=r[32];const y=R;let C;return r[33]!==y||r[34]!==n||r[35]!==f||r[36]!==K||r[37]!==d||r[38]!==e||r[39]!==c?(C=We.jsx(et,{...n,value:c,ref:e,extensions:K,theme:f,onCreateEditor:$,initialState:d,basicSetup:y}),r[33]=y,r[34]=n,r[35]=f,r[36]=K,r[37]=d,r[38]=e,r[39]=c,r[40]=C):C=r[40],C});function Wr(t){const e=ie.c(6),r=g.useContext(st),[i,n]=g.useState();let a;e[0]!==r?.codeModes||e[1]!==t?(a=()=>{const o=[...r?.codeModes??[],...Mr].find(c=>c.name===t);o?.loader||console.warn(`Found no codeMode for language mode ${t}, syntax highlighting will be disabled.`);let l=!0;return Promise.resolve(o?.loader()).then(c=>{l&&n(c)}).catch(c=>{console.error(`Failed to load language mode ${t}`,c),l&&n(void 0)}),()=>{l=!1}},e[0]=r?.codeModes,e[1]=t,e[2]=a):a=e[2];let s;return e[3]!==r||e[4]!==t?(s=[t,r],e[3]=r,e[4]=t,e[5]=s):s=e[5],g.useEffect(a,s),i}export{Pr as default};
