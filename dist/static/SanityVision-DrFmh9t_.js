import{r as P,j as l,_ as Ti,b as $i,g as qi,c as le,u as $u,C as fe,a as Vi,S as ve,B as Le,H as Wi,e as Qr,F as be,o as In,f as Nn,h as Qi,i as Hi,k as Ui,l as Ln,n as Ye,v as Xe,p as Tn,q as Ji,s as Ki,t as Yi,w as Xi,x as Gi,y as Zi,z as es,A as tn,P as rn,D as Jt,E as ie,G as Ie,I as ts,J as $n,K as ue,T as Se,L as rs,M as us,N as un,O as ns,Q as is,R as kr,U as ss,V as as,W as os,X as qt,Y as ls,Z as cs,$ as ds,a0 as fs,a1 as hs,a2 as nn,a3 as Ds,a4 as ps,a5 as ms,a6 as gs,a7 as Cs,a8 as Fs,a9 as As,aa as Es,ab as ys,ac as gu,ad as qn,ae as xs,af as Vn,ag as vs,ah as bs,ai as Wn,aj as Ss,ak as Bs}from"./sanity-BPgKKUuh.js";import{S as Qn,a as Ot,P as ws,E as ge,b as _e,F as Hn,g as Mr,V as Un,s as Jn,c as Kn,d as js,f as _s,e as Rs,h as pe,D as xe,i as Kt,R as Ps,r as Os,C as je,j as Yn,k as zs,l as Xn,m as Gn,n as ks,o as Ms,p as Is,q as Zn,t as ei,u as ti,v as ri,w as Ns,x as ui,y as Ls,z as ni,A as qu,B as ii,G as si,H as ai,I as Ts,J as $s,K as qs,L as oi,M as Vs,N as Vu,O as Ws,Q as Qs,T as Hs,U as Us,W as Js,X as q}from"./index-DgjuqbFs.js";import{javascriptLanguage as Ks}from"./index-CBEVDfJV.js";import"./index-DUYSZK17.js";var Ys=Object.defineProperty,sn=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Gs=Object.prototype.propertyIsEnumerable,an=(t,e,r)=>e in t?Ys(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,on=(t,e)=>{for(var r in e||(e={}))Xs.call(e,r)&&an(t,r,e[r]);if(sn)for(var r of sn(e))Gs.call(e,r)&&an(t,r,e[r]);return t};const ln=function(t){const{children:e,className:r,split:u,style:n,size:i,eleRef:o}=t;let s={flex:1,position:"relative",outline:"none"};i!==void 0&&(u==="vertical"?s.width=i:(s.height=i,s.display="flex"),s.flex="none"),s=on(on({},s),n);const a=["Pane",u,r].filter(Boolean).join(" ");return l.jsx("div",{role:"region",ref:o,className:a,style:s,children:e})},Ru="Resizer",Zs=function(t){const{className:e=Ru,onClick:r,onDoubleClick:u,onMouseDown:n,onTouchEnd:i,onTouchStart:o,resizerClassName:s,split:a,style:c}=t,h=[s,a,e].filter(Boolean).join(" ");return l.jsx("span",{role:"separator",className:h,style:c,onMouseDown:d=>n(d.nativeEvent),onTouchStart:d=>{d.preventDefault(),o(d.nativeEvent)},onTouchEnd:d=>{d.preventDefault(),i(d.nativeEvent)},onClick:d=>{r&&(d.preventDefault(),r(d.nativeEvent))},onDoubleClick:d=>{u&&(d.preventDefault(),u(d.nativeEvent))}})};var ea=Object.defineProperty,ta=Object.defineProperties,ra=Object.getOwnPropertyDescriptors,cn=Object.getOwnPropertySymbols,ua=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,Pu=(t,e,r)=>e in t?ea(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,we=(t,e)=>{for(var r in e||(e={}))ua.call(e,r)&&Pu(t,r,e[r]);if(cn)for(var r of cn(e))na.call(e,r)&&Pu(t,r,e[r]);return t},Ir=(t,e)=>ta(t,ra(e)),zr=(t,e,r)=>Pu(t,typeof e!="symbol"?e+"":e,r);const li={display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},ia=Ir(we({},li),{flexDirection:"row",left:0,right:0}),sa=Ir(we({},li),{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"}),Cu={},ci=class Vt extends P.Component{constructor(e){super(e),zr(this,"pane1",null),zr(this,"pane2",null),zr(this,"splitPane",null),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:r,defaultSize:u,minSize:n,maxSize:i,primary:o}=e,s=r!==void 0?r:fn(u,n,i,void 0);this.state={active:!1,resized:!1,pane1Size:o==="first"?s:void 0,pane2Size:o==="second"?s:void 0,instanceProps:{size:r}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(Vt.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(e,r){return Vt.getSizeUpdate(e,r)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(e){this.onTouchStart(Ir(we({},e),{touches:[{clientX:e.clientX,clientY:e.clientY}]}))}onTouchStart(e){const{allowResize:r,onDragStarted:u,split:n}=this.props;if(r){dn(document,window);const i=n==="vertical"?e.touches[0].clientX:e.touches[0].clientY;typeof u=="function"&&u(),this.setState({active:!0,position:i})}}onMouseMove(e){const r=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(r)}onTouchMove(e){if(!this.state.active||!this.props.allowResize)return;const{position:r=0}=this.state,{maxSize:u,minSize:n=Vt.defaultProps.minSize,onChange:i,split:o=Vt.defaultProps.split,step:s}=this.props;dn(document,window);const a=this.props.primary==="first",c=a?this.pane1:this.pane2,h=a?this.pane2:this.pane1;if(!c||!h||!c.getBoundingClientRect)return;const d=c,b=h,F=d.getBoundingClientRect().width,y=d.getBoundingClientRect().height,f=o==="vertical"?e.touches[0].clientX:e.touches[0].clientY,g=o==="vertical"?F:y;let m=r-f;if(s){if(Math.abs(m)<s)return;m=~~(m/s)*s}let S=a?m:-m;const R=parseInt(window.getComputedStyle(d).order),w=parseInt(window.getComputedStyle(b).order);R>w&&(S=-S);let A=u;this.splitPane&&u!==void 0&&u<=0&&(o==="vertical"?A=this.splitPane.getBoundingClientRect().width+u:A=this.splitPane.getBoundingClientRect().height+u);let O=g-S;const M=r-m;n&&O<n?O=n:A!==void 0&&O>A?O=A:this.setState({position:M,resized:!0}),i&&i(O);const V=a?{pane1Size:O,pane2Size:void 0}:{pane2Size:O,pane1Size:void 0};this.setState(we({draggedSize:O},V))}onMouseUp(){if(!this.state.active||!this.props.allowResize)return;const{onDragFinished:e}=this.props,{draggedSize:r}=this.state;typeof r<"u"&&typeof e=="function"&&e(r),this.setState({active:!1})}static getSizeUpdate(e,r){const{instanceProps:u}=r;if(u.size===e.size&&e.size!==void 0)return{};const n=e.size!==void 0?e.size:fn(e.defaultSize,e.minSize,e.maxSize,r.draggedSize),i=e.primary==="first"?{pane1Size:n,pane2Size:void 0}:{pane2Size:n,pane1Size:void 0};return Ir(we(we({},i),typeof e.size>"u"?{}:{draggedSize:n}),{instanceProps:{size:e.size}})}render(){const{allowResize:e,children:r,className:u,onResizerClick:n,onResizerDoubleClick:i,paneClassName:o,pane1ClassName:s,pane2ClassName:a,paneStyle:c,pane1Style:h,pane2Style:d,resizerClassName:b=Ru,resizerStyle:F,split:y,style:f}=this.props,{pane1Size:g,pane2Size:m}=this.state,S=e?"":"disabled",R=b&&`${b} ${Ru}`,w=aa(r),A=y==="vertical"?ia:sa,O=f?we(we({},A),f):A,M=["SplitPane",u,y,S].filter(Boolean).join(" "),V=hn(we(we({},c),h),Cu),C=hn(we(we({},c),d),Cu),D=["Pane1",o,s].join(" "),v=["Pane2",o,a].join(" ");return l.jsxs("div",{"data-testid":"split-pane",className:M,style:O,ref:B=>{this.splitPane=B},children:[l.jsx(ln,{className:D,eleRef:B=>{this.pane1=B},size:g,split:y,style:V,children:w[0]},"pane1"),l.jsx(Zs,{className:S,onClick:n,onDoubleClick:i,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,resizerClassName:R,split:y||"vertical",style:F||Cu},"resizer"),l.jsx(ln,{className:v,eleRef:B=>{this.pane2=B},size:m,split:y,style:C,children:w[1]},"pane2")]})}};zr(ci,"defaultProps",{allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""});let Fu=ci;function dn(t,e){var r;if("selection"in t&&typeof t.selection=="object"&&t.selection&&"empty"in t.selection&&typeof t.selection.empty=="function")try{t.selection.empty()}catch{}else if(typeof e<"u"&&typeof e.getSelection=="function")try{(r=e.getSelection())==null||r.removeAllRanges()}catch{}}function fn(t,e,r,u){if(typeof u=="number"){const n=typeof e=="number"?e:0,i=typeof r=="number"&&r>=0?r:1/0;return Math.max(n,Math.min(i,u))}return t!==void 0?t:e}function aa(t){return P.Children.toArray(t).filter(e=>e)}function oa(t){return t===null||typeof t>"u"||Object.keys(t).length===0}function hn(t,e){return oa(t)?e:t}const Dn=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Pt{constructor(e,r,u=0,n=e.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(u,n),this.bufferStart=u,this.normalize=i?s=>i(Dn(s)):Dn,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return js(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=_s(e),u=this.bufferStart+this.bufferPos;this.bufferPos+=Rs(e);let n=this.normalize(r);if(n.length)for(let i=0,o=u;;i++){let s=n.charCodeAt(i),a=this.match(s,o,this.bufferPos+this.bufferStart);if(i==n.length-1){if(a)return this.value=a,this;break}o==u&&i<r.length&&r.charCodeAt(i)==s&&o++}}}match(e,r,u){let n=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?n={from:this.matches[i+1],to:u}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:r,to:u}:this.matches.push(1,r)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(Pt.prototype[Symbol.iterator]=function(){return this});const di={from:-1,to:-1,match:/.*/.exec("")},Wu="gm"+(/x/.unicode==null?"":"u");class fi{constructor(e,r,u,n=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=di,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new hi(e,r,u,n,i);this.re=new RegExp(r,Wu+(u?.ignoreCase?"i":"")),this.test=u?.test,this.iter=e.iter();let o=e.lineAt(n);this.curLineStart=o.from,this.matchPos=Nr(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let u=this.curLineStart+r.index,n=u+r[0].length;if(this.matchPos=Nr(this.text,n+(u==n?1:0)),u==this.curLineStart+this.curLine.length&&this.nextLine(),(u<n||u>this.value.to)&&(!this.test||this.test(u,n,r)))return this.value={from:u,to:n,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Au=new WeakMap;class Rt{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,u){let n=Au.get(e);if(!n||n.from>=u||n.to<=r){let s=new Rt(r,e.sliceString(r,u));return Au.set(e,s),s}if(n.from==r&&n.to==u)return n;let{text:i,from:o}=n;return o>r&&(i=e.sliceString(r,o)+i,o=r),n.to<u&&(i+=e.sliceString(n.to,u)),Au.set(e,new Rt(o,i)),new Rt(r,i.slice(r-o,u-o))}}class hi{constructor(e,r,u,n,i){this.text=e,this.to=i,this.done=!1,this.value=di,this.matchPos=Nr(e,n),this.re=new RegExp(r,Wu+(u?.ignoreCase?"i":"")),this.test=u?.test,this.flat=Rt.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let u=this.flat.from+r.index,n=u+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(u,n,r)))return this.value={from:u,to:n,match:r},this.matchPos=Nr(this.text,n+(u==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Rt.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(fi.prototype[Symbol.iterator]=hi.prototype[Symbol.iterator]=function(){return this});function la(t){try{return new RegExp(t,Wu),!0}catch{return!1}}function Nr(t,e){if(e>=t.length)return e;let r=t.lineAt(e),u;for(;e<r.to&&(u=r.text.charCodeAt(e-r.from))>=56320&&u<57344;)e++;return e}function Ou(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=pe("input",{class:"cm-textfield",name:"line",value:e}),u=pe("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:Qt.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),n())},onsubmit:i=>{i.preventDefault(),n()}},pe("label",t.state.phrase("Go to line"),": ",r)," ",pe("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),pe("button",{name:"close",onclick:()=>{t.dispatch({effects:Qt.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["×"]));function n(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!i)return;let{state:o}=t,s=o.doc.lineAt(o.selection.main.head),[,a,c,h,d]=i,b=h?+h.slice(1):0,F=c?+c:s.number;if(c&&d){let g=F/100;a&&(g=g*(a=="-"?-1:1)+s.number/o.doc.lines),F=Math.round(o.doc.lines*g)}else c&&a&&(F=F*(a=="-"?-1:1)+s.number);let y=o.doc.line(Math.max(1,Math.min(o.doc.lines,F))),f=_e.cursor(y.from+Math.max(0,Math.min(b,y.length)));t.dispatch({effects:[Qt.of(!1),ge.scrollIntoView(f.from,{y:"center"})],selection:f}),t.focus()}return{dom:u}}const Qt=Ot.define(),pn=Qn.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(Qt)&&(t=r.value);return t},provide:t=>Jn.from(t,e=>e?Ou:null)}),ca=t=>{let e=Mr(t,Ou);if(!e){let r=[Qt.of(!0)];t.state.field(pn,!1)==null&&r.push(Ot.appendConfig.of([pn,da])),t.dispatch({effects:r}),e=Mr(t,Ou)}return e&&e.dom.querySelector("input").select(),!0},da=ge.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),fa={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ha=Hn.define({combine(t){return Kn(t,fa,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function Di(t){return[Ca,ga]}const Da=xe.mark({class:"cm-selectionMatch"}),pa=xe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function mn(t,e,r,u){return(r==0||t(e.sliceDoc(r-1,r))!=je.Word)&&(u==e.doc.length||t(e.sliceDoc(u,u+1))!=je.Word)}function ma(t,e,r,u){return t(e.sliceDoc(r,r+1))==je.Word&&t(e.sliceDoc(u-1,u))==je.Word}const ga=Un.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(ha),{state:r}=t,u=r.selection;if(u.ranges.length>1)return xe.none;let n=u.main,i,o=null;if(n.empty){if(!e.highlightWordAroundCursor)return xe.none;let a=r.wordAt(n.head);if(!a)return xe.none;o=r.charCategorizer(n.head),i=r.sliceDoc(a.from,a.to)}else{let a=n.to-n.from;if(a<e.minSelectionLength||a>200)return xe.none;if(e.wholeWords){if(i=r.sliceDoc(n.from,n.to),o=r.charCategorizer(n.head),!(mn(o,r,n.from,n.to)&&ma(o,r,n.from,n.to)))return xe.none}else if(i=r.sliceDoc(n.from,n.to),!i)return xe.none}let s=[];for(let a of t.visibleRanges){let c=new Pt(r.doc,i,a.from,a.to);for(;!c.next().done;){let{from:h,to:d}=c.value;if((!o||mn(o,r,h,d))&&(n.empty&&h<=n.from&&d>=n.to?s.push(pa.range(h,d)):(h>=n.to||d<=n.from)&&s.push(Da.range(h,d)),s.length>e.maxMatches))return xe.none}}return xe.set(s)}},{decorations:t=>t.decorations}),Ca=ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Fa=({state:t,dispatch:e})=>{let{selection:r}=t,u=_e.create(r.ranges.map(n=>t.wordAt(n.head)||_e.cursor(n.head)),r.mainIndex);return u.eq(r)?!1:(e(t.update({selection:u})),!0)};function Aa(t,e){let{main:r,ranges:u}=t.selection,n=t.wordAt(r.head),i=n&&n.from==r.from&&n.to==r.to;for(let o=!1,s=new Pt(t.doc,e,u[u.length-1].to);;)if(s.next(),s.done){if(o)return null;s=new Pt(t.doc,e,0,Math.max(0,u[u.length-1].from-1)),o=!0}else{if(o&&u.some(a=>a.from==s.value.from))continue;if(i){let a=t.wordAt(s.value.from);if(!a||a.from!=s.value.from||a.to!=s.value.to)continue}return s.value}}const Ea=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(i=>i.from===i.to))return Fa({state:t,dispatch:e});let u=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(i=>t.sliceDoc(i.from,i.to)!=u))return!1;let n=Aa(t,u);return n?(e(t.update({selection:t.selection.addRange(_e.range(n.from,n.to),!1),effects:ge.scrollIntoView(n.to)})),!0):!1},zt=Hn.define({combine(t){return Kn(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Oa(e),scrollToMatch:e=>ge.scrollIntoView(e)})}});class pi{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||la(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,u)=>u=="n"?`
`:u=="r"?"\r":u=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ba(this):new xa(this)}getCursor(e,r=0,u){let n=e.doc?e:Kt.create({doc:e});return u==null&&(u=n.doc.length),this.regexp?_t(this,n,r,u):jt(this,n,r,u)}}class mi{constructor(e){this.spec=e}}function jt(t,e,r,u){return new Pt(e.doc,t.unquoted,r,u,t.caseSensitive?void 0:n=>n.toLowerCase(),t.wholeWord?ya(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function ya(t,e){return(r,u,n,i)=>((i>r||i+n.length<u)&&(i=Math.max(0,r-2),n=t.sliceString(i,Math.min(t.length,u+2))),(e(Lr(n,r-i))!=je.Word||e(Tr(n,r-i))!=je.Word)&&(e(Tr(n,u-i))!=je.Word||e(Lr(n,u-i))!=je.Word))}class xa extends mi{constructor(e){super(e)}nextMatch(e,r,u){let n=jt(this.spec,e,u,e.doc.length).nextOverlapping();if(n.done){let i=Math.min(e.doc.length,r+this.spec.unquoted.length);n=jt(this.spec,e,0,i).nextOverlapping()}return n.done||n.value.from==r&&n.value.to==u?null:n.value}prevMatchInRange(e,r,u){for(let n=u;;){let i=Math.max(r,n-1e4-this.spec.unquoted.length),o=jt(this.spec,e,i,n),s=null;for(;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(i==r)return null;n-=1e4}}prevMatch(e,r,u){let n=this.prevMatchInRange(e,0,r);return n||(n=this.prevMatchInRange(e,Math.max(0,u-this.spec.unquoted.length),e.doc.length)),n&&(n.from!=r||n.to!=u)?n:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let u=jt(this.spec,e,0,e.doc.length),n=[];for(;!u.next().done;){if(n.length>=r)return null;n.push(u.value)}return n}highlight(e,r,u,n){let i=jt(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(u+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)n(i.value.from,i.value.to)}}function _t(t,e,r,u){return new fi(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?va(e.charCategorizer(e.selection.main.head)):void 0},r,u)}function Lr(t,e){return t.slice(Yn(t,e,!1),e)}function Tr(t,e){return t.slice(e,Yn(t,e))}function va(t){return(e,r,u)=>!u[0].length||(t(Lr(u.input,u.index))!=je.Word||t(Tr(u.input,u.index))!=je.Word)&&(t(Tr(u.input,u.index+u[0].length))!=je.Word||t(Lr(u.input,u.index+u[0].length))!=je.Word)}class ba extends mi{nextMatch(e,r,u){let n=_t(this.spec,e,u,e.doc.length).next();return n.done&&(n=_t(this.spec,e,0,r).next()),n.done?null:n.value}prevMatchInRange(e,r,u){for(let n=1;;n++){let i=Math.max(r,u-n*1e4),o=_t(this.spec,e,i,u),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==r||s.from>i+10))return s;if(i==r)return null}}prevMatch(e,r,u){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,u,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,u)=>{if(u=="&")return e.match[0];if(u=="$")return"$";for(let n=u.length;n>0;n--){let i=+u.slice(0,n);if(i>0&&i<e.match.length)return e.match[i]+u.slice(n)}return r})}matchAll(e,r){let u=_t(this.spec,e,0,e.doc.length),n=[];for(;!u.next().done;){if(n.length>=r)return null;n.push(u.value)}return n}highlight(e,r,u,n){let i=_t(this.spec,e,Math.max(0,r-250),Math.min(u+250,e.doc.length));for(;!i.next().done;)n(i.value.from,i.value.to)}}const Yt=Ot.define(),Qu=Ot.define(),Ze=Qn.define({create(t){return new Eu(zu(t).create(),null)},update(t,e){for(let r of e.effects)r.is(Yt)?t=new Eu(r.value.create(),t.panel):r.is(Qu)&&(t=new Eu(t.query,r.value?Hu:null));return t},provide:t=>Jn.from(t,e=>e.panel)});class Eu{constructor(e,r){this.query=e,this.panel=r}}const Sa=xe.mark({class:"cm-searchMatch"}),Ba=xe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),wa=Un.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ze))}update(t){let e=t.state.field(Ze);(e!=t.startState.field(Ze)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return xe.none;let{view:r}=this,u=new Ps;for(let n=0,i=r.visibleRanges,o=i.length;n<o;n++){let{from:s,to:a}=i[n];for(;n<o-1&&a>i[n+1].from-500;)a=i[++n].to;t.highlight(r.state,s,a,(c,h)=>{let d=r.state.selection.ranges.some(b=>b.from==c&&b.to==h);u.add(c,h,d?Ba:Sa)})}return u.finish()}},{decorations:t=>t.decorations});function Xt(t){return e=>{let r=e.state.field(Ze,!1);return r&&r.query.spec.valid?t(e,r):Fi(e)}}const $r=Xt((t,{query:e})=>{let{to:r}=t.state.selection.main,u=e.nextMatch(t.state,r,r);if(!u)return!1;let n=_e.single(u.from,u.to),i=t.state.facet(zt);return t.dispatch({selection:n,effects:[Uu(t,u),i.scrollToMatch(n.main,t)],userEvent:"select.search"}),Ci(t),!0}),qr=Xt((t,{query:e})=>{let{state:r}=t,{from:u}=r.selection.main,n=e.prevMatch(r,u,u);if(!n)return!1;let i=_e.single(n.from,n.to),o=t.state.facet(zt);return t.dispatch({selection:i,effects:[Uu(t,n),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),Ci(t),!0}),ja=Xt((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:_e.create(r.map(u=>_e.range(u.from,u.to))),userEvent:"select.search.matches"}),!0)}),_a=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:u,to:n}=r.main,i=[],o=0;for(let s=new Pt(t.doc,t.sliceDoc(u,n));!s.next().done;){if(i.length>1e3)return!1;s.value.from==u&&(o=i.length),i.push(_e.range(s.value.from,s.value.to))}return e(t.update({selection:_e.create(i,o),userEvent:"select.search.matches"})),!0},gn=Xt((t,{query:e})=>{let{state:r}=t,{from:u,to:n}=r.selection.main;if(r.readOnly)return!1;let i=e.nextMatch(r,u,u);if(!i)return!1;let o=i,s=[],a,c,h=[];o.from==u&&o.to==n&&(c=r.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(r,o.from,o.to),h.push(ge.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(u).number)+".")));let d=t.state.changes(s);return o&&(a=_e.single(o.from,o.to).map(d),h.push(Uu(t,o)),h.push(r.facet(zt).scrollToMatch(a.main,t))),t.dispatch({changes:d,selection:a,effects:h,userEvent:"input.replace"}),!0}),Ra=Xt((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(n=>{let{from:i,to:o}=n;return{from:i,to:o,insert:e.getReplacement(n)}});if(!r.length)return!1;let u=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:ge.announce.of(u),userEvent:"input.replace.all"}),!0});function Hu(t){return t.state.facet(zt).createPanel(t)}function zu(t,e){var r,u,n,i,o;let s=t.selection.main,a=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!a)return e;let c=t.facet(zt);return new pi({search:((r=e?.literal)!==null&&r!==void 0?r:c.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(u=e?.caseSensitive)!==null&&u!==void 0?u:c.caseSensitive,literal:(n=e?.literal)!==null&&n!==void 0?n:c.literal,regexp:(i=e?.regexp)!==null&&i!==void 0?i:c.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function gi(t){let e=Mr(t,Hu);return e&&e.dom.querySelector("[main-field]")}function Ci(t){let e=gi(t);e&&e==t.root.activeElement&&e.select()}const Fi=t=>{let e=t.state.field(Ze,!1);if(e&&e.panel){let r=gi(t);if(r&&r!=t.root.activeElement){let u=zu(t.state,e.query.spec);u.valid&&t.dispatch({effects:Yt.of(u)}),r.focus(),r.select()}}else t.dispatch({effects:[Qu.of(!0),e?Yt.of(zu(t.state,e.query.spec)):Ot.appendConfig.of(ka)]});return!0},Ai=t=>{let e=t.state.field(Ze,!1);if(!e||!e.panel)return!1;let r=Mr(t,Hu);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Qu.of(!1)}),!0},Pa=[{key:"Mod-f",run:Fi,scope:"editor search-panel"},{key:"F3",run:$r,shift:qr,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:$r,shift:qr,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Ai,scope:"editor search-panel"},{key:"Mod-Shift-l",run:_a},{key:"Mod-Alt-g",run:ca},{key:"Mod-d",run:Ea,preventDefault:!0}];class Oa{constructor(e){this.view=e;let r=this.query=e.state.field(Ze).query.spec;this.commit=this.commit.bind(this),this.searchField=pe("input",{value:r.search,placeholder:ye(e,"Find"),"aria-label":ye(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=pe("input",{value:r.replace,placeholder:ye(e,"Replace"),"aria-label":ye(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=pe("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=pe("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=pe("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function u(n,i,o){return pe("button",{class:"cm-button",name:n,onclick:i,type:"button"},o)}this.dom=pe("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,u("next",()=>$r(e),[ye(e,"next")]),u("prev",()=>qr(e),[ye(e,"previous")]),u("select",()=>ja(e),[ye(e,"all")]),pe("label",null,[this.caseField,ye(e,"match case")]),pe("label",null,[this.reField,ye(e,"regexp")]),pe("label",null,[this.wordField,ye(e,"by word")]),...e.state.readOnly?[]:[pe("br"),this.replaceField,u("replace",()=>gn(e),[ye(e,"replace")]),u("replaceAll",()=>Ra(e),[ye(e,"replace all")])],pe("button",{name:"close",onclick:()=>Ai(e),"aria-label":ye(e,"close"),type:"button"},["×"])])}commit(){let e=new pi({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Yt.of(e)}))}keydown(e){Os(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?qr:$r)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),gn(this.view))}update(e){for(let r of e.transactions)for(let u of r.effects)u.is(Yt)&&!u.value.eq(this.query)&&this.setQuery(u.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(zt).top}}function ye(t,e){return t.state.phrase(e)}const _r=30,Rr=/[\s\.,:;?!]/;function Uu(t,{from:e,to:r}){let u=t.state.doc.lineAt(e),n=t.state.doc.lineAt(r).to,i=Math.max(u.from,e-_r),o=Math.min(n,r+_r),s=t.state.sliceDoc(i,o);if(i!=u.from){for(let a=0;a<_r;a++)if(!Rr.test(s[a+1])&&Rr.test(s[a])){s=s.slice(a);break}}if(o!=n){for(let a=s.length-1;a>s.length-_r;a--)if(!Rr.test(s[a-1])&&Rr.test(s[a])){s=s.slice(0,a);break}}return ge.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${u.number}.`)}const za=ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ka=[Ze,ws.low(wa),za];var Cn=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,u=[];e.closeBracketsKeymap!==!1&&(u=u.concat(zs)),e.defaultKeymap!==!1&&(u=u.concat(Xn)),e.searchKeymap!==!1&&(u=u.concat(Pa)),e.historyKeymap!==!1&&(u=u.concat(Gn)),e.foldKeymap!==!1&&(u=u.concat(ks)),e.completionKeymap!==!1&&(u=u.concat(Ms)),e.lintKeymap!==!1&&(u=u.concat(Is));var n=[];return e.lineNumbers!==!1&&n.push(Zn()),e.highlightActiveLineGutter!==!1&&n.push(ei()),e.highlightSpecialChars!==!1&&n.push(ti()),e.history!==!1&&n.push(ri()),e.foldGutter!==!1&&n.push(Ns()),e.drawSelection!==!1&&n.push(ui()),e.dropCursor!==!1&&n.push(Ls()),e.allowMultipleSelections!==!1&&n.push(Kt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&n.push(ni()),e.syntaxHighlighting!==!1&&n.push(qu(ii,{fallback:!0})),e.bracketMatching!==!1&&n.push(si()),e.closeBrackets!==!1&&n.push(ai()),e.autocompletion!==!1&&n.push(Ts()),e.rectangularSelection!==!1&&n.push($s()),r!==!1&&n.push(qs()),e.highlightActiveLine!==!1&&n.push(oi()),e.highlightSelectionMatches!==!1&&n.push(Di()),e.tabSize&&typeof e.tabSize=="number"&&n.push(Vs.of(" ".repeat(e.tabSize))),n.concat([Vu.of(u.flat())]).filter(Boolean)},Ma=ge.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Ia=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:u=!0,readOnly:n=!1,theme:i="light",placeholder:o="",basicSetup:s=!0}=e,a=[];switch(r&&a.unshift(Vu.of([Ws])),s&&(typeof s=="boolean"?a.unshift(Cn()):a.unshift(Cn(s))),o&&a.unshift(Qs(o)),i){case"light":a.push(Ma);break;case"dark":a.push(Hs);break;case"none":break;default:a.push(i);break}return u===!1&&a.push(ge.editable.of(!1)),n&&a.push(Kt.readOnly.of(!0)),[...a]},Na=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class La{constructor(e,r){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=r,this.timeoutMS=r,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(r=>{try{r()}catch(u){console.error("TimeoutLatch callback error:",u)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Fn{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var yu=null,Ta=()=>typeof window>"u"?new Fn:(yu||(yu=new Fn),yu),An=Us.define(),$a=200,qa=[];function Va(t){var{value:e,selection:r,onChange:u,onStatistics:n,onCreateEditor:i,onUpdate:o,extensions:s=qa,autoFocus:a,theme:c="light",height:h=null,minHeight:d=null,maxHeight:b=null,width:F=null,minWidth:y=null,maxWidth:f=null,placeholder:g="",editable:m=!0,readOnly:S=!1,indentWithTab:R=!0,basicSetup:w=!0,root:A,initialState:O}=t,[M,V]=P.useState(),[C,D]=P.useState(),[v,B]=P.useState(),E=P.useState(()=>({current:null}))[0],k=P.useState(()=>({current:null}))[0],K=ge.theme({"&":{height:h,minHeight:d,maxHeight:b,width:F,minWidth:y,maxWidth:f},"& .cm-scroller":{height:"100% !important"}}),Y=ge.updateListener.of(j=>{if(j.docChanged&&typeof u=="function"&&!j.transactions.some(p=>p.annotation(An))){E.current?E.current.reset():(E.current=new La(()=>{if(k.current){var p=k.current;k.current=null,p()}E.current=null},$a),Ta().add(E.current));var T=j.state.doc,ne=T.toString();u(ne,j)}n&&n(Na(j))}),N=Ia({theme:c,editable:m,readOnly:S,placeholder:g,indentWithTab:R,basicSetup:w}),te=[Y,K,...N];return o&&typeof o=="function"&&te.push(ge.updateListener.of(o)),te=te.concat(s),P.useLayoutEffect(()=>{if(M&&!v){var j={doc:e,selection:r,extensions:te},T=O?Kt.fromJSON(O.json,j,O.fields):Kt.create(j);if(B(T),!C){var ne=new ge({state:T,parent:M,root:A});D(ne),i&&i(ne,T)}}return()=>{C&&(B(void 0),D(void 0))}},[M,v]),P.useEffect(()=>{t.container&&V(t.container)},[t.container]),P.useEffect(()=>()=>{C&&(C.destroy(),D(void 0)),E.current&&(E.current.cancel(),E.current=null)},[C]),P.useEffect(()=>{a&&C&&C.focus()},[a,C]),P.useEffect(()=>{C&&C.dispatch({effects:Ot.reconfigure.of(te)})},[c,s,h,d,b,F,y,f,g,m,S,R,w,u,o]),P.useEffect(()=>{if(e!==void 0){var j=C?C.state.doc.toString():"";if(C&&e!==j){var T=E.current&&!E.current.isDone,ne=()=>{C&&e!==C.state.doc.toString()&&C.dispatch({changes:{from:0,to:C.state.doc.toString().length,insert:e||""},annotations:[An.of(!0)]})};T?k.current=ne:ne()}}},[e,C]),{state:v,setState:B,view:C,setView:D,container:M,setContainer:V}}var Wa=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Ei=P.forwardRef((t,e)=>{var{className:r,value:u="",selection:n,extensions:i=[],onChange:o,onStatistics:s,onCreateEditor:a,onUpdate:c,autoFocus:h,theme:d="light",height:b,minHeight:F,maxHeight:y,width:f,minWidth:g,maxWidth:m,basicSetup:S,placeholder:R,indentWithTab:w,editable:A,readOnly:O,root:M,initialState:V}=t,C=Ti(t,Wa),D=P.useRef(null),{state:v,view:B,container:E,setContainer:k}=Va({root:M,value:u,autoFocus:h,theme:d,height:b,minHeight:F,maxHeight:y,width:f,minWidth:g,maxWidth:m,basicSetup:S,placeholder:R,indentWithTab:w,editable:A,readOnly:O,selection:n,onChange:o,onStatistics:s,onCreateEditor:a,onUpdate:c,extensions:i,initialState:V});P.useImperativeHandle(e,()=>({editor:D.current,state:v,view:B}),[D,E,v,B]);var K=P.useCallback(N=>{D.current=N,k(N)},[k]);if(typeof u!="string")throw new Error("value must be typeof string but got "+typeof u);var Y=typeof d=="string"?"cm-theme-"+d:"cm-theme";return l.jsx("div",$i({ref:K,className:""+Y+(r?" "+r:"")},C))});Ei.displayName="CodeMirror";var Qa=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ha=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Ua=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,xu={Space_Separator:Qa,ID_Start:Ha,ID_Continue:Ua},de={isSpaceSeparator(t){return typeof t=="string"&&xu.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||xu.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="‌"||t==="‍"||xu.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let ku,Ae,Ue,Vr,et,Ne,De,Ju,Ht;var Ja=function(e,r){ku=String(e),Ae="start",Ue=[],Vr=0,et=1,Ne=0,De=void 0,Ju=void 0,Ht=void 0;do De=Ka(),Ga[Ae]();while(De.type!=="eof");return typeof r=="function"?Mu({"":Ht},"",r):Ht};function Mu(t,e,r){const u=t[e];if(u!=null&&typeof u=="object")if(Array.isArray(u))for(let n=0;n<u.length;n++){const i=String(n),o=Mu(u,i,r);o===void 0?delete u[i]:Object.defineProperty(u,i,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(const n in u){const i=Mu(u,n,r);i===void 0?delete u[n]:Object.defineProperty(u,n,{value:i,writable:!0,enumerable:!0,configurable:!0})}return r.call(t,e,u)}let X,J,Wt,He,Z;function Ka(){for(X="default",J="",Wt=!1,He=1;;){Z=Ke();const t=yi[X]();if(t)return t}}function Ke(){if(ku[Vr])return String.fromCodePoint(ku.codePointAt(Vr))}function x(){const t=Ke();return t===`
`?(et++,Ne=0):t?Ne+=t.length:Ne++,t&&(Vr+=t.length),t}const yi={default(){switch(Z){case"	":case"\v":case"\f":case" ":case" ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":x();return;case"/":x(),X="comment";return;case void 0:return x(),ae("eof")}if(de.isSpaceSeparator(Z)){x();return}return yi[Ae]()},comment(){switch(Z){case"*":x(),X="multiLineComment";return;case"/":x(),X="singleLineComment";return}throw oe(x())},multiLineComment(){switch(Z){case"*":x(),X="multiLineCommentAsterisk";return;case void 0:throw oe(x())}x()},multiLineCommentAsterisk(){switch(Z){case"*":x();return;case"/":x(),X="default";return;case void 0:throw oe(x())}x(),X="multiLineComment"},singleLineComment(){switch(Z){case`
`:case"\r":case"\u2028":case"\u2029":x(),X="default";return;case void 0:return x(),ae("eof")}x()},value(){switch(Z){case"{":case"[":return ae("punctuator",x());case"n":return x(),ut("ull"),ae("null",null);case"t":return x(),ut("rue"),ae("boolean",!0);case"f":return x(),ut("alse"),ae("boolean",!1);case"-":case"+":x()==="-"&&(He=-1),X="sign";return;case".":J=x(),X="decimalPointLeading";return;case"0":J=x(),X="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":J=x(),X="decimalInteger";return;case"I":return x(),ut("nfinity"),ae("numeric",1/0);case"N":return x(),ut("aN"),ae("numeric",NaN);case'"':case"'":Wt=x()==='"',J="",X="string";return}throw oe(x())},identifierNameStartEscape(){if(Z!=="u")throw oe(x());x();const t=Iu();switch(t){case"$":case"_":break;default:if(!de.isIdStartChar(t))throw En();break}J+=t,X="identifierName"},identifierName(){switch(Z){case"$":case"_":case"‌":case"‍":J+=x();return;case"\\":x(),X="identifierNameEscape";return}if(de.isIdContinueChar(Z)){J+=x();return}return ae("identifier",J)},identifierNameEscape(){if(Z!=="u")throw oe(x());x();const t=Iu();switch(t){case"$":case"_":case"‌":case"‍":break;default:if(!de.isIdContinueChar(t))throw En();break}J+=t,X="identifierName"},sign(){switch(Z){case".":J=x(),X="decimalPointLeading";return;case"0":J=x(),X="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":J=x(),X="decimalInteger";return;case"I":return x(),ut("nfinity"),ae("numeric",He*(1/0));case"N":return x(),ut("aN"),ae("numeric",NaN)}throw oe(x())},zero(){switch(Z){case".":J+=x(),X="decimalPoint";return;case"e":case"E":J+=x(),X="decimalExponent";return;case"x":case"X":J+=x(),X="hexadecimal";return}return ae("numeric",He*0)},decimalInteger(){switch(Z){case".":J+=x(),X="decimalPoint";return;case"e":case"E":J+=x(),X="decimalExponent";return}if(de.isDigit(Z)){J+=x();return}return ae("numeric",He*Number(J))},decimalPointLeading(){if(de.isDigit(Z)){J+=x(),X="decimalFraction";return}throw oe(x())},decimalPoint(){switch(Z){case"e":case"E":J+=x(),X="decimalExponent";return}if(de.isDigit(Z)){J+=x(),X="decimalFraction";return}return ae("numeric",He*Number(J))},decimalFraction(){switch(Z){case"e":case"E":J+=x(),X="decimalExponent";return}if(de.isDigit(Z)){J+=x();return}return ae("numeric",He*Number(J))},decimalExponent(){switch(Z){case"+":case"-":J+=x(),X="decimalExponentSign";return}if(de.isDigit(Z)){J+=x(),X="decimalExponentInteger";return}throw oe(x())},decimalExponentSign(){if(de.isDigit(Z)){J+=x(),X="decimalExponentInteger";return}throw oe(x())},decimalExponentInteger(){if(de.isDigit(Z)){J+=x();return}return ae("numeric",He*Number(J))},hexadecimal(){if(de.isHexDigit(Z)){J+=x(),X="hexadecimalInteger";return}throw oe(x())},hexadecimalInteger(){if(de.isHexDigit(Z)){J+=x();return}return ae("numeric",He*Number(J))},string(){switch(Z){case"\\":x(),J+=Ya();return;case'"':if(Wt)return x(),ae("string",J);J+=x();return;case"'":if(!Wt)return x(),ae("string",J);J+=x();return;case`
`:case"\r":throw oe(x());case"\u2028":case"\u2029":Za(Z);break;case void 0:throw oe(x())}J+=x()},start(){switch(Z){case"{":case"[":return ae("punctuator",x())}X="value"},beforePropertyName(){switch(Z){case"$":case"_":J=x(),X="identifierName";return;case"\\":x(),X="identifierNameStartEscape";return;case"}":return ae("punctuator",x());case'"':case"'":Wt=x()==='"',X="string";return}if(de.isIdStartChar(Z)){J+=x(),X="identifierName";return}throw oe(x())},afterPropertyName(){if(Z===":")return ae("punctuator",x());throw oe(x())},beforePropertyValue(){X="value"},afterPropertyValue(){switch(Z){case",":case"}":return ae("punctuator",x())}throw oe(x())},beforeArrayValue(){if(Z==="]")return ae("punctuator",x());X="value"},afterArrayValue(){switch(Z){case",":case"]":return ae("punctuator",x())}throw oe(x())},end(){throw oe(x())}};function ae(t,e){return{type:t,value:e,line:et,column:Ne}}function ut(t){for(const e of t){if(Ke()!==e)throw oe(x());x()}}function Ya(){switch(Ke()){case"b":return x(),"\b";case"f":return x(),"\f";case"n":return x(),`
`;case"r":return x(),"\r";case"t":return x(),"	";case"v":return x(),"\v";case"0":if(x(),de.isDigit(Ke()))throw oe(x());return"\0";case"x":return x(),Xa();case"u":return x(),Iu();case`
`:case"\u2028":case"\u2029":return x(),"";case"\r":return x(),Ke()===`
`&&x(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw oe(x());case void 0:throw oe(x())}return x()}function Xa(){let t="",e=Ke();if(!de.isHexDigit(e)||(t+=x(),e=Ke(),!de.isHexDigit(e)))throw oe(x());return t+=x(),String.fromCodePoint(parseInt(t,16))}function Iu(){let t="",e=4;for(;e-- >0;){const r=Ke();if(!de.isHexDigit(r))throw oe(x());t+=x()}return String.fromCodePoint(parseInt(t,16))}const Ga={start(){if(De.type==="eof")throw nt();vu()},beforePropertyName(){switch(De.type){case"identifier":case"string":Ju=De.value,Ae="afterPropertyName";return;case"punctuator":Pr();return;case"eof":throw nt()}},afterPropertyName(){if(De.type==="eof")throw nt();Ae="beforePropertyValue"},beforePropertyValue(){if(De.type==="eof")throw nt();vu()},beforeArrayValue(){if(De.type==="eof")throw nt();if(De.type==="punctuator"&&De.value==="]"){Pr();return}vu()},afterPropertyValue(){if(De.type==="eof")throw nt();switch(De.value){case",":Ae="beforePropertyName";return;case"}":Pr()}},afterArrayValue(){if(De.type==="eof")throw nt();switch(De.value){case",":Ae="beforeArrayValue";return;case"]":Pr()}},end(){}};function vu(){let t;switch(De.type){case"punctuator":switch(De.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=De.value;break}if(Ht===void 0)Ht=t;else{const e=Ue[Ue.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,Ju,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")Ue.push(t),Array.isArray(t)?Ae="beforeArrayValue":Ae="beforePropertyName";else{const e=Ue[Ue.length-1];e==null?Ae="end":Array.isArray(e)?Ae="afterArrayValue":Ae="afterPropertyValue"}}function Pr(){Ue.pop();const t=Ue[Ue.length-1];t==null?Ae="end":Array.isArray(t)?Ae="afterArrayValue":Ae="afterPropertyValue"}function oe(t){return Wr(t===void 0?`JSON5: invalid end of input at ${et}:${Ne}`:`JSON5: invalid character '${xi(t)}' at ${et}:${Ne}`)}function nt(){return Wr(`JSON5: invalid end of input at ${et}:${Ne}`)}function En(){return Ne-=5,Wr(`JSON5: invalid identifier character at ${et}:${Ne}`)}function Za(t){console.warn(`JSON5: '${xi(t)}' in strings is not valid ECMAScript; consider escaping`)}function xi(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const r=t.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return t}function Wr(t){const e=new SyntaxError(t);return e.lineNumber=et,e.columnNumber=Ne,e}var eo=function(e,r,u){const n=[];let i="",o,s,a="",c;if(r!=null&&typeof r=="object"&&!Array.isArray(r)&&(u=r.space,c=r.quote,r=r.replacer),typeof r=="function")s=r;else if(Array.isArray(r)){o=[];for(const f of r){let g;typeof f=="string"?g=f:(typeof f=="number"||f instanceof String||f instanceof Number)&&(g=String(f)),g!==void 0&&o.indexOf(g)<0&&o.push(g)}}return u instanceof Number?u=Number(u):u instanceof String&&(u=String(u)),typeof u=="number"?u>0&&(u=Math.min(10,Math.floor(u)),a="          ".substr(0,u)):typeof u=="string"&&(a=u.substr(0,10)),h("",{"":e});function h(f,g){let m=g[f];switch(m!=null&&(typeof m.toJSON5=="function"?m=m.toJSON5(f):typeof m.toJSON=="function"&&(m=m.toJSON(f))),s&&(m=s.call(g,f,m)),m instanceof Number?m=Number(m):m instanceof String?m=String(m):m instanceof Boolean&&(m=m.valueOf()),m){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof m=="string")return d(m);if(typeof m=="number")return String(m);if(typeof m=="object")return Array.isArray(m)?y(m):b(m)}function d(f){const g={"'":.1,'"':.2},m={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let S="";for(let w=0;w<f.length;w++){const A=f[w];switch(A){case"'":case'"':g[A]++,S+=A;continue;case"\0":if(de.isDigit(f[w+1])){S+="\\x00";continue}}if(m[A]){S+=m[A];continue}if(A<" "){let O=A.charCodeAt(0).toString(16);S+="\\x"+("00"+O).substring(O.length);continue}S+=A}const R=c||Object.keys(g).reduce((w,A)=>g[w]<g[A]?w:A);return S=S.replace(new RegExp(R,"g"),m[R]),R+S+R}function b(f){if(n.indexOf(f)>=0)throw TypeError("Converting circular structure to JSON5");n.push(f);let g=i;i=i+a;let m=o||Object.keys(f),S=[];for(const w of m){const A=h(w,f);if(A!==void 0){let O=F(w)+":";a!==""&&(O+=" "),O+=A,S.push(O)}}let R;if(S.length===0)R="{}";else{let w;if(a==="")w=S.join(","),R="{"+w+"}";else{let A=`,
`+i;w=S.join(A),R=`{
`+i+w+`,
`+g+"}"}}return n.pop(),i=g,R}function F(f){if(f.length===0)return d(f);const g=String.fromCodePoint(f.codePointAt(0));if(!de.isIdStartChar(g))return d(f);for(let m=g.length;m<f.length;m++)if(!de.isIdContinueChar(String.fromCodePoint(f.codePointAt(m))))return d(f);return f}function y(f){if(n.indexOf(f)>=0)throw TypeError("Converting circular structure to JSON5");n.push(f);let g=i;i=i+a;let m=[];for(let R=0;R<f.length;R++){const w=h(String(R),f);m.push(w!==void 0?w:"null")}let S;if(m.length===0)S="[]";else if(a==="")S="["+m.join(",")+"]";else{let R=`,
`+i,w=m.join(R);S=`[
`+i+w+`,
`+g+"]"}return n.pop(),i=g,S}};const to={parse:Ja,stringify:eo};var ro=to,it={},Oe={},yn;function Hr(){return yn||(yn=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.excelBOM=Oe.defaultCsv2JsonOptions=Oe.defaultJson2CsvOptions=Oe.errors=void 0,Oe.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}},Oe.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1,fieldTitleMap:Object.create({})},Oe.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1},Oe.excelBOM="\uFEFF"),Oe}var ze={},st={};var xn;function Ku(){if(xn)return st;xn=1,Object.defineProperty(st,"__esModule",{value:!0}),st.setPath=st.evaluatePath=void 0;function t(i,o){if(!i)return null;const{dotIndex:s,key:a,remaining:c}=u(o),h=typeof i=="object"&&o in i?i[o]:void 0,d=typeof i=="object"&&a in i?i[a]:void 0;if(s>=0&&typeof i=="object"&&!(o in i)){const{key:b}=u(c),F=parseInt(b);return Array.isArray(d)&&isNaN(F)?d.map(y=>t(y,c)):t(d,c)}else if(Array.isArray(i)){const b=parseInt(a);return o===a&&s===-1&&!isNaN(b)?d:i.map(F=>t(F,o))}else{if(s>=0&&o!==a&&typeof i=="object"&&a in i)return t(d,c);if(s===-1&&typeof i=="object"&&a in i&&!(o in i))return d}return h}st.evaluatePath=t;function e(i,o,s){if(i){if(!o)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return r(i,o,s)}st.setPath=e;function r(i,o,s){const{dotIndex:a,key:c,remaining:h}=u(o);if(o.startsWith("__proto__")||o.startsWith("constructor")||o.startsWith("prototype"))return i;if(a>=0){const d=parseInt(c);if(typeof i=="object"&&i!==null&&!(c in i)&&Array.isArray(i)&&!isNaN(d))return i[c]=i[c]??{},r(i[c],h,s),i;if(typeof i=="object"&&i!==null&&!(c in i)&&Array.isArray(i))return i.forEach(b=>r(b,o,s)),i;if(typeof i=="object"&&i!==null&&!(c in i)&&!Array.isArray(i)){const{key:b}=u(h),F=parseInt(b);if(!isNaN(F))i[c]=[];else{if(h==="")return i[o]=s,i;i[c]={}}}r(i[c],h,s)}else if(Array.isArray(i)){const d=parseInt(c);return o===c&&a===-1&&!isNaN(d)?(i[c]=s,i):(i.forEach(b=>r(b,h,s)),i)}else i[c]=s;return i}function u(i){const o=n(i);return{dotIndex:o,key:i.slice(0,o>=0?o:void 0).replace(/\\./g,"."),remaining:i.slice(o+1)}}function n(i){for(let o=0;o<i.length;o++){const s=o>0?i[o-1]:"";if(i[o]==="."&&s!=="\\")return o}return-1}return st}var ke={},Qe={},vn;function uo(){if(vn)return Qe;vn=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.isDocumentToRecurOn=Qe.flatten=Qe.unique=void 0;function t(u){return[...new Set(u)]}Qe.unique=t;function e(u){return[].concat(...u)}Qe.flatten=e;function r(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&Object.keys(u).length}return Qe.isDocumentToRecurOn=r,Qe}var bu={},bn;function no(){return bn||(bn=1,Object.defineProperty(bu,"__esModule",{value:!0})),bu}var Sn;function io(){return Sn||(Sn=1,(function(t){var e=ke&&ke.__createBinding||(Object.create?(function(F,y,f,g){g===void 0&&(g=f);var m=Object.getOwnPropertyDescriptor(y,f);(!m||("get"in m?!y.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return y[f]}}),Object.defineProperty(F,g,m)}):(function(F,y,f,g){g===void 0&&(g=f),F[g]=y[f]})),r=ke&&ke.__setModuleDefault||(Object.create?(function(F,y){Object.defineProperty(F,"default",{enumerable:!0,value:y})}):function(F,y){F.default=y}),u=ke&&ke.__importStar||function(F){if(F&&F.__esModule)return F;var y={};if(F!=null)for(var f in F)f!=="default"&&Object.prototype.hasOwnProperty.call(F,f)&&e(y,F,f);return r(y,F),y},n=ke&&ke.__exportStar||function(F,y){for(var f in F)f!=="default"&&!Object.prototype.hasOwnProperty.call(y,f)&&e(y,F,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.deepKeysFromList=t.deepKeys=void 0;const i=u(uo());n(no(),t);function o(F,y){const f=b(y);return typeof F=="object"&&F!==null?a("",F,f):[]}t.deepKeys=o;function s(F,y){const f=b(y);return F.map(g=>typeof g=="object"&&g!==null?o(g,f):[])}t.deepKeysFromList=s;function a(F,y,f){const g=Object.keys(y).map(m=>{const S=d(F,h(m,f));return f.expandNestedObjects&&i.isDocumentToRecurOn(y[m])||f.arrayIndexesAsKeys&&Array.isArray(y[m])&&y[m].length?a(S,y[m],f):f.expandArrayObjects&&Array.isArray(y[m])?c(y[m],S,f):f.ignoreEmptyArrays&&Array.isArray(y[m])&&!y[m].length?[]:S});return i.flatten(g)}function c(F,y,f){let g=s(F,f);return F.length?F.length&&i.flatten(g).length===0?[y]:(g=g.map(m=>Array.isArray(m)&&m.length===0?[y]:m.map(S=>d(y,h(S,f)))),i.unique(i.flatten(g))):f.ignoreEmptyArraysWhenExpanding?[]:[y]}function h(F,y){return y.escapeNestedDots?F.replace(/\./g,"\\."):F}function d(F,y){return F?F+"."+y:y}function b(F){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...F??{}}}})(ke)),ke}var H={},Bn;function Yu(){if(Bn)return H;Bn=1,Object.defineProperty(H,"__esModule",{value:!0}),H.isInvalid=H.flatten=H.unique=H.arrayDifference=H.isError=H.isUndefined=H.isNull=H.isObject=H.isString=H.isNumber=H.unwind=H.getNCharacters=H.removeEmptyFields=H.isEmptyField=H.computeSchemaDifferences=H.isDateRepresentation=H.isStringRepresentation=H.deepCopy=H.validate=H.buildC2JOptions=H.buildJ2COptions=void 0;const t=Ku(),e=Hr(),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,u=1e5;function n(D){return{...e.defaultJson2CsvOptions,...D,delimiter:{field:D?.delimiter?.field??e.defaultJson2CsvOptions.delimiter.field,wrap:D?.delimiter?.wrap||e.defaultJson2CsvOptions.delimiter.wrap,eol:D?.delimiter?.eol||e.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:D?.fieldTitleMap||Object.create({})}}H.buildJ2COptions=n;function i(D){return{...e.defaultCsv2JsonOptions,...D,delimiter:{field:D?.delimiter?.field??e.defaultCsv2JsonOptions.delimiter.field,wrap:D?.delimiter?.wrap||e.defaultCsv2JsonOptions.delimiter.wrap,eol:D?.delimiter?.eol||e.defaultCsv2JsonOptions.delimiter.eol}}}H.buildC2JOptions=i;function o(D,v,B){if(!D)throw new Error(`${B.cannotCallOn} ${D}.`);if(!v(D))throw new Error(B.dataCheckFailure);return!0}H.validate=o;function s(D){return JSON.parse(JSON.stringify(D))}H.deepCopy=s;function a(D,v){const B=D[0],E=D.length-1,k=D[E];return B===v.delimiter.wrap&&k===v.delimiter.wrap}H.isStringRepresentation=a;function c(D){return r.test(D)}H.isDateRepresentation=c;function h(D,v){return O(D,v).concat(O(v,D))}H.computeSchemaDifferences=h;function d(D){return w(D)||R(D)||D===""}H.isEmptyField=d;function b(D){return D.filter(v=>!d(v))}H.removeEmptyFields=b;function F(D,v,B){return D.substring(v,v+B)}H.getNCharacters=F;function y(D,v,B){const E=(0,t.evaluatePath)(v,B);let k=s(v);Array.isArray(E)&&E.length?E.forEach(K=>{k=s(v),D.push((0,t.setPath)(k,B,K))}):(Array.isArray(E)&&E.length===0&&(0,t.setPath)(k,B,""),D.push(k))}function f(D,v){const B=[];return D.forEach(E=>{y(B,E,v)}),B}H.unwind=f;function g(D){return!isNaN(Number(D))}H.isNumber=g;function m(D){return typeof D=="string"}H.isString=m;function S(D){return typeof D=="object"}H.isObject=S;function R(D){return D===null}H.isNull=R;function w(D){return typeof D>"u"}H.isUndefined=w;function A(D){return Object.prototype.toString.call(D)==="[object Error]"}H.isError=A;function O(D,v){return D.filter(B=>!v.includes(B))}H.arrayDifference=O;function M(D){return[...new Set(D)]}H.unique=M;function V(D){if(D.flat)return D.flat();if(D.length>u){let v=[];for(let B=0;B<D.length;B+=u)v=v.concat(...D.slice(B,B+u));return v}return D.reduce((v,B)=>v.concat(B),[])}H.flatten=V;function C(D){return D===1/0||D===-1/0}return H.isInvalid=C,H}var wn;function so(){if(wn)return ze;wn=1;var t=ze&&ze.__createBinding||(Object.create?(function(a,c,h,d){d===void 0&&(d=h);var b=Object.getOwnPropertyDescriptor(c,h);(!b||("get"in b?!c.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(a,d,b)}):(function(a,c,h,d){d===void 0&&(d=h),a[d]=c[h]})),e=ze&&ze.__setModuleDefault||(Object.create?(function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}):function(a,c){a.default=c}),r=ze&&ze.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var h in a)h!=="default"&&Object.prototype.hasOwnProperty.call(a,h)&&t(c,a,h);return e(c,a),c};Object.defineProperty(ze,"__esModule",{value:!0}),ze.Json2Csv=void 0;const u=Ku(),n=io(),i=Hr(),o=r(Yu()),s=function(a){const c=new RegExp(a.delimiter.wrap,"g"),h=/\r?\n|\r/,d=a.parseValue&&typeof a.parseValue=="function"?a.parseValue:null,b=a.expandArrayObjects&&!a.unwindArrays,F={arrayIndexesAsKeys:a.arrayIndexesAsKeys,expandNestedObjects:a.expandNestedObjects,expandArrayObjects:b,ignoreEmptyArraysWhenExpanding:b,escapeNestedDots:!0};function y(p){return(0,n.deepKeysFromList)(p,F)}function f(p){return p.length===0?[]:a.checkSchemaDifferences?g(p):o.unique(o.flatten(p))}function g(p){const _=p[0],I=p.slice(1);if(m(_,I))throw new Error(i.errors.json2csv.notSameSchema);return _}function m(p,_){return _.reduce((I,$)=>o.computeSchemaDifferences(p,$).length>0?I+1:I,0)}function S(p){return a.excludeKeys?p.filter(_=>{for(const I of a.excludeKeys){const $=I instanceof RegExp?I:new RegExp(`^${I}`);if(I===_||_.match($))return!1}return!0}):p}function R(p){return a.sortHeader&&typeof a.sortHeader=="function"?p.sort(a.sortHeader):a.sortHeader?p.sort():p}function w(p){return a.trimHeaderFields&&(p.headerFields=p.headerFields.map(_=>_.split(".").map(I=>I.trim()).join("."))),p}function A(p){return a.prependHeader&&(p.headerFields=p.headerFields.map(function(_){return te(_)})),p}function O(p){const _=Object.keys(a.fieldTitleMap);return p.header=p.headerFields.map(function(I){let $=I;return _.includes(I)?$=a.fieldTitleMap[I]:a.escapeHeaderNestedDots||($=$.replace(/\\\./g,".")),$}).join(a.delimiter.field),p}function M(){return a.keys?a.keys.map(p=>typeof p=="object"&&"field"in p?(a.fieldTitleMap[p.field]=p.title??p.field,p.field):p):[]}function V(){return a.keys?a.keys.flatMap(p=>typeof p=="string"?[]:p?.wildcardMatch?p.field:[]):[]}function C(p){const _=V(),I=M(),$=y(p),U=f($);if(a.keys){a.keys=I;const W=I.flatMap(Q=>{if(!_.includes(Q))return Q;const he=[],me=new RegExp(`^${Q}`);for(const se of U)(Q===se||se.match(me))&&he.push(se);return he});if(!a.unwindArrays){const Q=S(W);return R(Q)}}const ee=S(U);return R(ee)}function D(p){for(const _ of p.records)for(const I of p.headerFields){const $=(0,u.evaluatePath)(_,I);if(Array.isArray($))return!0}return!1}function v(p,_=!1){if(a.unwindArrays){if(p.headerFields.forEach(I=>{p.records=o.unwind(p.records,I)}),p.headerFields=C(p.records),D(p))return v(p,_);if(!_)return v(p,!0);if(a.keys){const I=M();p.headerFields=S(I)}return p}return p}function B(p){return p.recordString=p.records.map(_=>{const I=k(_,p.headerFields),$=I.map(U=>{U=Y(U),U=N(U);let ee=d?d(U,K):K(U);return ee=te(ee),ee});return j($)}).join(a.delimiter.eol),p}function E(p){const _=o.removeEmptyFields(p);return!p.length||!_.length?a.emptyFieldValue||"":_.length===1?_[0]:p}function k(p,_){const I=[];return _.forEach($=>{let U=(0,u.evaluatePath)(p,$);!o.isUndefined(a.emptyFieldValue)&&o.isEmptyField(U)?U=a.emptyFieldValue:a.expandArrayObjects&&Array.isArray(U)&&(U=E(U)),I.push(U)}),I}function K(p){const _=p instanceof Date;return p===null||Array.isArray(p)||typeof p=="object"&&!_?JSON.stringify(p):typeof p>"u"?"undefined":_&&a.useDateIso8601Format?p.toISOString():a.useLocaleFormat?p.toLocaleString():p.toString()}function Y(p){return a.trimFieldValues?Array.isArray(p)?p.map(Y):typeof p=="string"?p.trim():p:p}function N(p){return a.preventCsvInjection?Array.isArray(p)?p.map(N):typeof p=="string"&&!o.isNumber(p)?p.replace(/^[=+\-@\t\r]+/g,""):p:p}function te(p){const _=a.delimiter.wrap;return p.includes(a.delimiter.wrap)&&(p=p.replace(c,_+_)),(p.includes(a.delimiter.field)||p.includes(a.delimiter.wrap)||p.match(h)||a.wrapBooleans&&(p==="true"||p==="false"))&&(p=_+p+_),p}function j(p){return p.join(a.delimiter.field)}function T(p){const _=p.header,I=p.recordString;return(a.excelBOM?i.excelBOM:"")+(a.prependHeader?_+a.delimiter.eol:"")+I}function ne(p){Array.isArray(p)||(p=[p]);const _={headerFields:C(p),records:p,header:"",recordString:""},I=v(_),$=B(I),U=A($),ee=w(U),W=O(ee);return T(W)}return{convert:ne}};return ze.Json2Csv=s,ze}var Me={},jn;function ao(){if(jn)return Me;jn=1;var t=Me&&Me.__createBinding||(Object.create?(function(s,a,c,h){h===void 0&&(h=c);var d=Object.getOwnPropertyDescriptor(a,c);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(s,h,d)}):(function(s,a,c,h){h===void 0&&(h=c),s[h]=a[c]})),e=Me&&Me.__setModuleDefault||(Object.create?(function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}):function(s,a){s.default=a}),r=Me&&Me.__importStar||function(s){if(s&&s.__esModule)return s;var a={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&t(a,s,c);return e(a,s),a};Object.defineProperty(Me,"__esModule",{value:!0}),Me.Csv2Json=void 0;const u=Ku(),n=Hr(),i=r(Yu()),o=function(s){const a=new RegExp(s.delimiter.wrap+s.delimiter.wrap,"g"),c=new RegExp("^"+n.excelBOM),h=s.parseValue&&typeof s.parseValue=="function"?s.parseValue:JSON.parse;function d(C){return C=w(C),s.trimHeaderFields?C.split(".").map(D=>D.trim()).join("."):C}function b(C){let D=[];if(s.headerFields)D=s.headerFields.map((v,B)=>({value:d(v),index:B}));else if(D=C[0].map((B,E)=>({value:d(B),index:E})),s.keys){const B=s.keys;D=D.filter(E=>B.includes(E.value))}return{lines:C,headerFields:D,recordLines:[]}}function F(C){return s.excelBOM?C.replace(c,""):C}function y(C){const D=[],v=C.length-1,B=s.delimiter.eol.length,E={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let k=[],K,Y,N,te,j=0;for(;j<C.length;){if(K=C[j],Y=j?C[j-1]:"",N=j<v?C[j+1]:"",te=i.getNCharacters(C,j,B),(te===s.delimiter.eol&&!E.insideWrapDelimiter||j===v)&&Y===s.delimiter.field)te===s.delimiter.eol&&E.startIndex===j||K===s.delimiter.field?k.push(""):k.push(C.substring(E.startIndex)),k.push(""),D.push(k),k=[],E.startIndex=j+B,E.parsingValue=!0,E.insideWrapDelimiter=N===s.delimiter.wrap;else if(j===v&&K===s.delimiter.field){const T=C.substring(E.startIndex,j);k.push(T),k.push(""),D.push(k)}else if(j===v||te===s.delimiter.eol&&(!E.insideWrapDelimiter||E.insideWrapDelimiter&&Y===s.delimiter.wrap&&!E.justParsedDoubleQuote)){const T=j!==v||Y===s.delimiter.wrap?j:void 0;k.push(C.substring(E.startIndex,T)),D.push(k),k=[],E.startIndex=j+B,E.parsingValue=!0,E.insideWrapDelimiter=N===s.delimiter.wrap}else if(K===s.delimiter.wrap&&Y===s.delimiter.field&&!E.insideWrapDelimiter&&!E.parsingValue)E.startIndex=j,E.insideWrapDelimiter=!0,E.parsingValue=!0,i.getNCharacters(C,j+1,B)===s.delimiter.eol&&(j+=s.delimiter.eol.length+1);else if(Y===s.delimiter.field&&K===s.delimiter.wrap&&N===s.delimiter.eol)k.push(C.substring(E.startIndex,j-1)),E.startIndex=j,E.parsingValue=!0,E.insideWrapDelimiter=!0,E.justParsedDoubleQuote=!0,j+=1;else if((Y!==s.delimiter.wrap||E.justParsedDoubleQuote&&Y===s.delimiter.wrap)&&K===s.delimiter.wrap&&i.getNCharacters(C,j+1,B)===s.delimiter.eol)E.insideWrapDelimiter=!1,E.parsingValue=!1;else if(K===s.delimiter.wrap&&(j===0||i.getNCharacters(C,j-B,B)===s.delimiter.eol&&!E.insideWrapDelimiter))E.insideWrapDelimiter=!0,E.parsingValue=!0,E.startIndex=j;else if(K===s.delimiter.wrap&&N===s.delimiter.field&&E.insideWrapDelimiter)k.push(C.substring(E.startIndex,j+1)),E.startIndex=j+2,E.insideWrapDelimiter=!1,E.parsingValue=!1;else if(K===s.delimiter.wrap&&Y===s.delimiter.field&&!E.insideWrapDelimiter&&E.parsingValue)k.push(C.substring(E.startIndex,j-1)),E.insideWrapDelimiter=!0,E.parsingValue=!0,E.startIndex=j;else if(K===s.delimiter.wrap&&N===s.delimiter.wrap&&j!==E.startIndex){j+=2,E.justParsedDoubleQuote=!0;continue}else K===s.delimiter.field&&Y!==s.delimiter.wrap&&N!==s.delimiter.wrap&&!E.insideWrapDelimiter&&E.parsingValue?(k.push(C.substring(E.startIndex,j)),E.startIndex=j+1):K===s.delimiter.field&&Y===s.delimiter.wrap&&N!==s.delimiter.wrap&&!E.parsingValue&&(E.insideWrapDelimiter=!1,E.parsingValue=!0,E.startIndex=j+1);j++,E.justParsedDoubleQuote=!1}return D}function f(C){return s.headerFields?C.recordLines=C.lines:C.recordLines=C.lines.splice(1),C}function g(C,D){const v=D[C.index];return m(v)}function m(C){const D=M(C);return!i.isError(D)&&!i.isInvalid(D)?D:C==="undefined"?void 0:C}function S(C){return s.trimFieldValues&&C!==null?C.trim():C}function R(C,D){return C.reduce((v,B)=>{const E=g(B,D);try{return(0,u.setPath)(v,B.value,E)}catch{return v}},{})}function w(C){const D=C[0],v=C.length-1,B=C[v];return D===s.delimiter.wrap&&B===s.delimiter.wrap?C.length<=2?"":C.substring(1,v):C}function A(C){return C.replace(a,s.delimiter.wrap)}function O(C){return C.recordLines.reduce((D,v)=>{v=v.map(E=>(E=w(E),E=A(E),E=S(E),E));const B=R(C.headerFields,v);return D.concat(B)},[])}function M(C){try{if(i.isStringRepresentation(C,s)&&!i.isDateRepresentation(C))return C;const D=h(C);return Array.isArray(D)?D.map(S):D}catch(D){return D}}function V(C){const D=F(C),v=y(D),B=b(v),E=f(B);return O(E)}return{convert:V}};return Me.Csv2Json=o,Me}var _n;function oo(){if(_n)return it;_n=1,Object.defineProperty(it,"__esModule",{value:!0}),it.csv2json=it.json2csv=void 0;const t=Hr(),e=so(),r=ao(),u=Yu();function n(o,s){const a=(0,u.buildJ2COptions)(s??{});return(0,u.validate)(o,u.isObject,t.errors.json2csv),(0,e.Json2Csv)(a).convert(o)}it.json2csv=n;function i(o,s){const a=(0,u.buildC2JOptions)(s??{});return(0,u.validate)(o,u.isString,t.errors.csv2json),(0,r.Csv2Json)(a).convert(o)}return it.csv2json=i,it}var lo=oo(),Su,Rn;function co(){if(Rn)return Su;Rn=1;class t{constructor(r={}){if(!(r.maxSize&&r.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=r.maxSize,this.onEviction=r.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(r,u){if(this.cache.set(r,u),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r)){const u=this.oldCache.get(r);return this.oldCache.delete(r),this._set(r,u),u}}set(r,u){return this.cache.has(r)?this.cache.set(r,u):this._set(r,u),this}has(r){return this.cache.has(r)||this.oldCache.has(r)}peek(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r))return this.oldCache.get(r)}delete(r){const u=this.cache.delete(r);return u&&this._size--,this.oldCache.delete(r)||u}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[r]of this)yield r}*values(){for(const[,r]of this)yield r}*[Symbol.iterator](){for(const r of this.cache)yield r;for(const r of this.oldCache){const[u]=r;this.cache.has(u)||(yield r)}}get size(){let r=0;for(const u of this.oldCache.keys())this.cache.has(u)||r++;return Math.min(this._size+r,this.maxSize)}}return Su=t,Su}var fo=co();const ho=qi(fo),Ut=["v1","vX","v2021-03-25","v2021-10-21","v2022-03-07","v2025-02-19",`v${new Date().toISOString().split("T")[0]}`],[vi]=Ut.slice(-1);function bi(t){const e=le.c(5),[r,u]=P.useState(!1);let n,i;e[0]!==t.delay?(n=()=>{const s=setTimeout(()=>u(!0),t.delay||500);return()=>clearTimeout(s)},i=[t.delay],e[0]=t.delay,e[1]=n,e[2]=i):(n=e[1],i=e[2]),P.useEffect(n,i);let o;return e[3]!==r?(o=r?l.jsx(Ui,{muted:!0,size:4}):null,e[3]=r,e[4]=o):o=e[4],o}const Do=[[Ks],Zn(),oi(),ei(),Di(),ti(),ni(),si(),ai(),ri(),ui(),qu(ii,{fallback:!0}),Vu.of([{key:"Mod-Enter",run:()=>!0},Xn,Gn].flat().filter(Boolean))];function po(t){const e=le.c(7);let r;e[0]!==t?(r=mo(t),e[0]=t,e[1]=r):r=e[1];const u=r;let n;e[2]!==t?(n=qu(go(t)),e[2]=t,e[3]=n):n=e[3];const i=n;let o;return e[4]!==i||e[5]!==u?(o=[u,i],e[4]=i,e[5]=u,e[6]=o):o=e[6],o}function mo(t){const{color:e,fonts:r}=t.sanity,u=e.card.enabled,n=nn.blue[e.dark?400:500].hex,i=nn.gray[t.sanity.color.dark?900:100].hex;return ge.theme({"&":{color:u.fg,backgroundColor:u.bg},".cm-content":{caretColor:n},".cm-editor":{fontFamily:r.code.family,fontSize:Ie(r.code.sizes[1].fontSize),lineHeight:"inherit"},".cm-cursor, .cm-dropCursor":{borderLeftColor:n},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:i},".cm-panels":{backgroundColor:u.bg,color:u.fg},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${u.border}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${u.border}`}},{dark:e.dark})}function go(t){const e=t.sanity.color.base,r=t.sanity.color.syntax;return Js.define([{tag:q.keyword,color:r.keyword},{tag:[q.propertyName,q.name,q.deleted,q.character,q.macroName],color:r.property},{tag:[q.function(q.variableName),q.labelName],color:r.function},{tag:[q.color,q.constant(q.name),q.standard(q.name)],color:r.variable},{tag:[q.definition(q.name),q.separator],color:r.constant},{tag:[q.typeName,q.className,q.number,q.changed,q.annotation,q.modifier,q.self,q.namespace],color:r.number},{tag:[q.operator,q.operatorKeyword,q.url,q.escape,q.regexp,q.link,q.special(q.string)],color:r.operator},{tag:[q.meta,q.comment],color:r.comment},{tag:q.strong,fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.heading,fontWeight:"bold",color:r.property},{tag:[q.atom,q.bool,q.special(q.variableName)],color:r.boolean},{tag:[q.processingInstruction,q.string,q.inserted],color:r.string},{tag:q.invalid,color:e.fg}])}const Co=ie.div`
  width: 100%;
  box-sizing: border-box;
  height: 100%;
  overflow: hidden;
  overflow: clip;
  position: relative;
  display: flex;

  & .cm-theme {
    width: 100%;
  }

  & .cm-editor {
    height: 100%;

    font-size: 16px;
    line-height: 21px;
  }

  & .cm-line {
    padding-left: ${({theme:t})=>Ie(t.sanity.space[3])};
  }

  & .cm-content {
    border-right-width: ${({theme:t})=>Ie(t.sanity.space[4])} !important;
    padding-top: ${({theme:t})=>Ie(t.sanity.space[5])};
  }
`,Xu=P.forwardRef((t,e)=>{const r=le.c(7),[u]=P.useState(t.initialValue),n=ts(),i=po(n),o=P.useRef(null);let s;r[0]===Symbol.for("react.memo_cache_sentinel")?(s=b=>{const F=o.current?.view;if(!F)return;const y=F.state.doc.toString();b!==y&&F.dispatch({changes:{from:0,to:y.length,insert:b},selection:_e.cursor(b.length)})},r[0]=s):s=r[0];const a=s;let c,h;r[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>({resetEditorContent:a}),h=[a],r[1]=c,r[2]=h):(c=r[1],h=r[2]),P.useImperativeHandle(e,c,h);let d;return r[3]!==u||r[4]!==t.onChange||r[5]!==i?(d=l.jsx(Co,{children:l.jsx(Ei,{ref:o,basicSetup:!1,theme:i,extensions:Do,value:u,onChange:t.onChange})}),r[3]=u,r[4]=t.onChange,r[5]=i,r[6]=d):d=r[6],d});Xu.displayName="VisionCodeMirror";const Si=["pinnedRelease","scheduledDrafts","raw","published","drafts"],Fo=["pinnedRelease","scheduledDrafts"];function Bu(t){return Si.includes(t)}function Pn(t){return typeof t=="string"&&Fo.includes(t)}function On({selectedPerspectiveName:t}){return typeof t<"u"}function wu({visionPerspective:t,perspectiveStack:e,scheduledDraftsStack:r}){return t==="pinnedRelease"?e:t==="scheduledDrafts"?r:t}function ju(t,e={},r={}){const u=new URLSearchParams;u.set("query",t);for(const[n,i]of Object.entries(e))u.set(`$${n}`,JSON.stringify(i));for(const[n,i]of Object.entries(r))i&&u.set(n,`${i}`);return`?${u}`}function Ao(t){return!!t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"}const Bi=xo(),wi="sanityVision:";function Eo(){if(Bi)for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e?.startsWith(wi)&&localStorage.removeItem(e)}}function yo(t){const e=`${wi}${t}`;let r=null;return{get:u,set:n,merge:i};function u(a,c){const h=o();return typeof h[a]>"u"?c:h[a]}function n(a,c){const h=o();return h[a]=c,localStorage.setItem(e,JSON.stringify(r)),c}function i(a){const c={...o(),...a};return localStorage.setItem(e,JSON.stringify(c)),c}function o(){return r===null&&(r=s()),r}function s(){if(!Bi)return{};try{const a=JSON.parse(localStorage.getItem(e)||"{}");return Ao(a)?a:{}}catch{return{}}}}function xo(){const t="lsCheck";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function vo(t){const e={},r={};for(const[u,n]of t.entries()){if(u[0]==="$"){e[u.slice(1)]=JSON.parse(n);continue}if(u==="perspective"){r[u]=n;continue}}return{query:t.get("query")||"",params:e,options:r}}function bo(t){return t[0]!=="v"&&t!=="other"?`v${t}`:t}function _u(t){const e=t.replace(/^v/,"").trim().toUpperCase();return e.length>0&&(e==="X"||e==="1"||/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(Date.parse(e)))}function So(t,e){try{const r=t?ro.parse(t):{};return typeof r=="object"&&r&&!Array.isArray(r)?r:{}}catch(r){return r.message=`${e("params.error.params-invalid-json")}:

${r.message.replace("JSON5:","")}`,r}}const ji=ie(be)`
  .sidebarPanes .Pane {
    overflow-y: auto;
    overflow-x: hidden;
  }

  & .Resizer {
    background: var(--card-border-color);
    opacity: 1;
    z-index: 1;
    box-sizing: border-box;
    background-clip: padding-box;
    border: solid transparent;
  }

  & .Resizer:hover {
    border-color: var(--card-shadow-ambient-color);
  }

  & .Resizer.horizontal {
    height: 11px;
    margin: -5px 0;
    border-width: 5px 0;
    cursor: row-resize;
    width: 100%;
    z-index: 4;
  }

  & .Resizer.vertical {
    width: 11px;
    margin: 0 -5px;
    border-width: 0 5px;
    cursor: col-resize;
    z-index: 2; /* To prevent the resizer from being hidden behind CodeMirror scroll area */
  }

  .Resizer.disabled {
    cursor: not-allowed;
  }

  .Resizer.disabled:hover {
    border-color: transparent;
  }
`;ji.displayName="Root";const Bo=ie(fe)`
  border-bottom: 1px solid var(--card-border-color);
`,Je=ie(Cs)`
  flex: 1;
`,wo=ie(ue)`
  position: relative;
`,jo=ie.a`
  cursor: pointer;
  margin-right: auto;
`,_i=ie(ue)`
  position: absolute;
  top: 1rem;
  left: 0;
  padding: 0;
  margin: 0;
  z-index: 10;
  right: 0;

  ${Je} {
    user-select: none;
  }
`,Ri=ie(_i)`
  // This is so its aligned with the gutters of CodeMirror
  left: 33px;
`,zn=ie(fe)`
  width: 100%;
  height: 100%;
  position: relative;
  flex-direction: column;
`,_o=ie(be)`
  height: 100%;
`,Ro=ie(ue)`
  position: relative;
`,Po=ie(fe)`
  height: 100%;
  width: 100%;
  position: absolute;
  max-width: 100%;

  ${({$isInvalid:t})=>t&&$n`
      &:after {
        background-color: var(--card-bg-color);
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 100%;
      }
    `}
`,Oo=ie(ue)`
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 20;
`,zo=ie(be)`
  border-top: 1px solid var(--card-border-color);
`,ko=ie(fe)`
  position: relative;
`;ie(ue)`
  width: 100%;
  height: 100%;
`;const Mo=ie(be)`
  height: 100%;
  min-height: ${({theme:t})=>Ie(t.sanity.space[3]*2+t.sanity.fonts.text.sizes[2].lineHeight-t.sanity.fonts.text.sizes[2].ascenderHeight-t.sanity.fonts.text.sizes[2].descenderHeight)};
`,Io=ie(fe)`
  position: relative;
`,No=ie(Se)`
  transform: initial;
  &:before,
  &:after {
    content: none;
  }
  > span {
    display: flex !important;
    gap: ${({theme:t})=>Ie(t.sanity.space[3])};
    align-items: center;
  }
`,Lo=ie(ue)`
  border-top: 1px solid var(--card-border-color);
`,To=`{
  
}`;function $o(t){const e=le.c(21),{onChange:r,paramsError:u,hasValidParams:n,editorRef:i}=t,{t:o}=Ye(Xe);let s;e[0]!==r?(s=R=>{r(R)},e[0]=r,e[1]=s):s=e[1];const a=s;let c;e[2]!==a?(c=es(a,333),e[2]=a,e[3]=c):c=e[3];const h=c,d=n?"default":"critical";let b;e[4]!==o?(b=o("params.label"),e[4]=o,e[5]=b):b=e[5];let F;e[6]!==b?(F=l.jsx(Je,{muted:!0,children:b}),e[6]=b,e[7]=F):F=e[7];let y;e[8]!==u?(y=u&&l.jsx(Jt,{animate:!0,placement:"top",portal:!0,content:l.jsx(Se,{size:1,children:u}),children:l.jsx(ue,{padding:1,marginX:2,children:l.jsx(Se,{children:l.jsx(rs,{})})})}),e[8]=u,e[9]=y):y=e[9];let f;e[10]!==F||e[11]!==y?(f=l.jsx(Ri,{children:l.jsxs(be,{children:[F,y]})}),e[10]=F,e[11]=y,e[12]=f):f=e[12];const g=t.value||To;let m;e[13]!==i||e[14]!==h||e[15]!==g?(m=l.jsx(Xu,{ref:i,initialValue:g,onChange:h}),e[13]=i,e[14]=h,e[15]=g,e[16]=m):m=e[16];let S;return e[17]!==d||e[18]!==f||e[19]!==m?(S=l.jsxs(fe,{flex:1,tone:d,"data-testid":"params-editor",children:[f,m]}),e[17]=d,e[18]=f,e[19]=m,e[20]=S):S=e[20],S}function kn(t,e){const r=So(t,e),u=r instanceof Error?{}:r,n=r instanceof Error?r.message:void 0;return{parsed:u,raw:t,valid:!n,error:n}}const qo="studio.vision-tool.saved-queries",Nu={queries:[]},Or=qo;function Vo(){const t=le.c(27),e=ms(),[r,u]=P.useState(Nu),[n,i]=P.useState(!1);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[0]=o):o=t[0];const[s,a]=P.useState(o),[c,h]=P.useState(),[d,b]=P.useState(),[F,y]=P.useState();let f;t[1]!==e?(f=e.getKey(Or),t[1]=e,t[2]=f):f=t[2];const g=f;let m;t[3]!==g?(m=()=>{const D=g.pipe(Fs(Nu),Nn(Wo)).subscribe({next:u,error:v=>y(v)});return()=>D?.unsubscribe()},t[3]=g,t[4]=m):m=t[4];let S;t[5]!==e||t[6]!==g?(S=[g,e],t[5]=e,t[6]=g,t[7]=S):S=t[7],P.useEffect(m,S);let R;t[8]!==e||t[9]!==r.queries?(R=async D=>{i(!0),h(void 0);try{const v=[{...D,_key:As()},...r.queries];u({queries:v}),await e.setKey(Or,{queries:v})}catch(v){h(v)}i(!1)},t[8]=e,t[9]=r.queries,t[10]=R):R=t[10];const w=R;let A;t[11]!==e||t[12]!==r.queries?(A=async D=>{i(!0),h(void 0);try{const v=r.queries.map(B=>B._key===D._key?{...B,...D}:B);u({queries:v}),await e.setKey(Or,{queries:v})}catch(v){h(v)}i(!1)},t[11]=e,t[12]=r.queries,t[13]=A):A=t[13];const O=A;let M;t[14]!==e||t[15]!==r.queries?(M=async D=>{a(v=>[...v,D]),b(void 0);try{const v=r.queries.filter(B=>B._key!==D);u({queries:v}),await e.setKey(Or,{queries:v})}catch(v){b(v)}a(v=>v.filter(B=>B!==D))},t[14]=e,t[15]=r.queries,t[16]=M):M=t[16];const V=M;let C;return t[17]!==V||t[18]!==d||t[19]!==s||t[20]!==F||t[21]!==w||t[22]!==c||t[23]!==n||t[24]!==O||t[25]!==r.queries?(C={queries:r.queries,saveQuery:w,updateQuery:O,deleteQuery:V,saving:n,deleting:s,saveQueryError:c,deleteQueryError:d,error:F},t[17]=V,t[18]=d,t[19]=s,t[20]=F,t[21]=w,t[22]=c,t[23]=n,t[24]=O,t[25]=r.queries,t[26]=C):C=t[26],C}function Wo(t){return t||Nu}const Qo=ie(ve)`
  position: sticky;
  top: 0;
  background: ${({theme:t})=>t.sanity.color.base.bg};
  z-index: 1;
`,Ho=ie(ue)`
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: ${({theme:t})=>t.sanity.color.base.border};
    border-radius: 4px;
  }
`;function Uo(t){const e=le.c(80),{url:r,getStateFromUrl:u,setStateFromParsedUrl:n,currentQuery:i,currentParams:o,generateUrl:s}=t,a=Ln(),{saveQuery:c,updateQuery:h,queries:d,deleteQuery:b,saving:F,saveQueryError:y}=Vo(),{t:f}=Ye(Xe);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0},e[0]=g):g=e[0];const m=os(g),[S,R]=P.useState(null),[w,A]=P.useState("");let O;e[1]===Symbol.for("react.memo_cache_sentinel")?(O={},e[1]=O):O=e[1];const[M,V]=P.useState(O),[C,D]=P.useState(""),[v,B]=P.useState(r);let E;e[2]!==o||e[3]!==i||e[4]!==m||e[5]!==s||e[6]!==u||e[7]!==d||e[8]!==c||e[9]!==y||e[10]!==f||e[11]!==a?(E=async()=>{const U=s(i,o);if(d?.some(ee=>{const W=u(ee.url);return W&&W.query===i&&qt(W.params,o)})){const ee=d?.find(W=>{const Q=u(W.url);return Q&&Q.query===i&&qt(Q.params,o)});a.push({closable:!0,status:"warning",title:f("save-query.already-saved"),description:`${ee?.title} - ${m.format(new Date(ee?.savedAt||""))}`});return}U&&(await c({url:U,savedAt:new Date().toISOString(),title:"Untitled"}),B(U)),y?a.push({closable:!0,status:"error",title:f("save-query.error"),description:y.message}):a.push({closable:!0,status:"success",title:f("save-query.success")})},e[2]=o,e[3]=i,e[4]=m,e[5]=s,e[6]=u,e[7]=d,e[8]=c,e[9]=y,e[10]=f,e[11]=a,e[12]=E):E=e[12];const k=E;let K;e[13]!==f||e[14]!==a||e[15]!==h?(K=async(U,ee)=>{R(null),V(W=>({...W,[U._key]:ee}));try{await h({...U,title:ee}),V(W=>{const Q={...W};return delete Q[U._key],Q})}catch(W){const Q=W;V(he=>{const me={...he};return delete me[U._key],me}),a.push({closable:!0,status:"error",title:f("save-query.error"),description:Q.message})}},e[13]=f,e[14]=a,e[15]=h,e[16]=K):K=e[16];const Y=K;let N;e[17]!==o||e[18]!==i||e[19]!==m||e[20]!==s||e[21]!==u||e[22]!==d||e[23]!==f||e[24]!==a||e[25]!==h?(N=async U=>{const ee=s(i,o);if(d?.some(W=>{if(W._key===U._key)return!1;const Q=u(W.url);return Q&&Q.query===i&&qt(Q.params,o)})){const W=d?.find(Q=>{if(Q._key===U._key)return!1;const he=u(Q.url);return he&&he.query===i&&qt(he.params,o)});a.push({closable:!0,status:"warning",title:f("save-query.already-saved"),description:`${W?.title} - ${m.format(new Date(W?.savedAt||""))}`});return}try{await h({...U,url:ee,savedAt:new Date().toISOString()}),B(ee),a.push({closable:!0,status:"success",title:f("save-query.success")})}catch(W){const Q=W;a.push({closable:!0,status:"error",title:f("save-query.error"),description:Q.message})}},e[17]=o,e[18]=i,e[19]=m,e[20]=s,e[21]=u,e[22]=d,e[23]=f,e[24]=a,e[25]=h,e[26]=N):N=e[26];const te=N;let j,T,ne,p,_;if(e[27]!==o||e[28]!==i||e[29]!==b||e[30]!==S||e[31]!==w||e[32]!==m||e[33]!==u||e[34]!==k||e[35]!==Y||e[36]!==te||e[37]!==M||e[38]!==d||e[39]!==F||e[40]!==C||e[41]!==v||e[42]!==n||e[43]!==f){const U=d?.filter(re=>re?.title?.toLowerCase().includes(C.toLowerCase()));T=Ho;let ee;e[49]===Symbol.for("react.memo_cache_sentinel")?(ee={textTransform:"capitalize"},e[49]=ee):ee=e[49];let W;e[50]!==f?(W=f("label.saved-queries"),e[50]=f,e[51]=W):W=e[51];let Q;e[52]!==W?(Q=l.jsx(Se,{weight:"semibold",style:ee,size:4,children:W}),e[52]=W,e[53]=Q):Q=e[53];let he;e[54]!==f?(he=f("action.save-query"),e[54]=f,e[55]=he):he=e[55];let me;e[56]!==k||e[57]!==F||e[58]!==he?(me=l.jsx(Le,{label:he,icon:Es,disabled:F,onClick:k,mode:"bleed"}),e[56]=k,e[57]=F,e[58]=he,e[59]=me):me=e[59];let se;e[60]!==Q||e[61]!==me?(se=l.jsxs(be,{padding:3,paddingTop:4,paddingBottom:0,justify:"space-between",align:"center",children:[Q,me]}),e[60]=Q,e[61]=me,e[62]=se):se=e[62];let Te;e[63]!==f?(Te=f("label.search-queries"),e[63]=f,e[64]=Te):Te=e[64];let Ge;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ge=re=>D(re.currentTarget.value),e[65]=Ge):Ge=e[65];let $e;e[66]!==C||e[67]!==Te?($e=l.jsx(ue,{padding:3,paddingTop:0,children:l.jsx(kr,{placeholder:Te,icon:ys,value:C,onChange:Ge})}),e[66]=C,e[67]=Te,e[68]=$e):$e=e[68],e[69]!==se||e[70]!==$e?(_=l.jsxs(Qo,{space:3,children:[se,$e]}),e[69]=se,e[70]=$e,e[71]=_):_=e[71],j=ve,ne=3,p=U?.map(re=>{const G=u(re.url),at=v===re.url,kt=G&&i===G.query&&qt(o,G.params),tt=at&&!kt;return l.jsx(fe,{width:"fill",padding:4,border:!0,tone:at?"positive":"default",onClick:()=>{B(re.url);const Ce=u(re.url);Ce&&n(Ce)},style:{position:"relative"},children:l.jsxs(ve,{space:3,children:[l.jsxs(be,{justify:"space-between",align:"center",children:[l.jsxs(be,{align:"center",gap:2,paddingRight:1,children:[S===re._key?l.jsx(kr,{value:w,onChange:Ce=>A(Ce.currentTarget.value),onKeyDown:Ce=>{Ce.key==="Enter"?Y(re,w):Ce.key==="Escape"&&R(null)},onBlur:()=>Y(re,w),autoFocus:!0,style:{maxWidth:"170px",height:"24px"}}):l.jsx(Se,{weight:"bold",size:3,textOverflow:"ellipsis",style:{maxWidth:"170px",cursor:"pointer",padding:"4px 0"},title:M[re._key]||re.title||re._key.slice(re._key.length-5,re._key.length),onClick:()=>{R(re._key),A(re.title||re._key.slice(0,5))},children:M[re._key]||re.title||re._key.slice(re._key.length-5,re._key.length)}),tt&&l.jsx(ue,{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"var(--card-focus-ring-color)"}})]}),l.jsx(ls,{button:l.jsx(hs,{}),id:`${re._key}-menu`,menu:l.jsx(cs,{children:l.jsx(ds,{tone:"critical",padding:3,icon:fs,text:f("action.delete"),onClick:Ce=>{Ce.stopPropagation(),b(re._key)}})}),popover:{portal:!0,placement:"bottom-end",tone:"default"}})]}),l.jsx(Qr,{muted:!0,children:G?.query.split("{")[0]}),l.jsx(be,{align:"center",gap:1,children:l.jsx(Se,{size:1,muted:!0,children:m.format(new Date(re.savedAt||""))})}),tt&&l.jsx(Le,{mode:"ghost",tone:"default",size:1,padding:2,style:{height:"24px",position:"absolute",right:"16px",bottom:"16px",fontSize:"12px"},text:f("action.update"),onClick:Ce=>{Ce.stopPropagation(),te(re)}})]})},re._key)}),e[27]=o,e[28]=i,e[29]=b,e[30]=S,e[31]=w,e[32]=m,e[33]=u,e[34]=k,e[35]=Y,e[36]=te,e[37]=M,e[38]=d,e[39]=F,e[40]=C,e[41]=v,e[42]=n,e[43]=f,e[44]=j,e[45]=T,e[46]=ne,e[47]=p,e[48]=_}else j=e[44],T=e[45],ne=e[46],p=e[47],_=e[48];let I;e[72]!==j||e[73]!==ne||e[74]!==p?(I=l.jsx(j,{paddingY:ne,children:p}),e[72]=j,e[73]=ne,e[74]=p,e[75]=I):I=e[75];let $;return e[76]!==T||e[77]!==_||e[78]!==I?($=l.jsxs(T,{children:[_,I]}),e[76]=T,e[77]=_,e[78]=I,e[79]=$):$=e[79],$}function Gu(){return typeof window<"u"&&window.innerWidth>600}function Pi(t){let e=t;return e||(e=typeof window<"u"&&typeof document<"u"?document.body.getBoundingClientRect().height-60:0),{defaultSize:e/(Gu()?2:1),size:e>550?void 0:e*.4,allowResize:e>550,minSize:Math.min(170,Math.max(170,e/2)),maxSize:e>650?e*.7:e*.6}}function Jo(t){const e=le.c(6),{visionRootRef:r}=t,[u,n]=P.useState(Yo),[i,o]=P.useState(Ko);let s,a;e[0]!==r?(s=()=>{if(!r.current)return;const h=b=>{n(Gu());const F=b?.[0];F&&o(Pi(F.contentRect.height))},d=new ResizeObserver(h);return d.observe(r.current),()=>{d.disconnect()}},a=[r],e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]),P.useEffect(s,a);let c;return e[3]!==u||e[4]!==i?(c={paneSizeOptions:i,isNarrowBreakpoint:u},e[3]=u,e[4]=i,e[5]=c):c=e[5],c}function Ko(){return Pi(void 0)}function Yo(){return Gu()}function Xo(t){const e=le.c(30),{hasValidParams:r,listenInProgress:u,queryInProgress:n,onQueryExecution:i,onListenExecution:o}=t,{t:s}=Ye(Xe);let a;e[0]!==s?(a=s("params.error.params-invalid-json"),e[0]=s,e[1]=a):a=e[1];let c;e[2]!==a?(c=l.jsx(fe,{radius:4,children:l.jsx(Se,{size:1,muted:!0,children:a})}),e[2]=a,e[3]=c):c=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(fe,{radius:4,children:l.jsx(us,{keys:["Ctrl","Enter"]})}),e[4]=h):h=e[4];const d=n?tn:rn,b=u||!r,F=n?"positive":"primary";let y;e[5]!==n||e[6]!==s?(y=s(n?"action.query-cancel":"action.query-execute"),e[5]=n,e[6]=s,e[7]=y):y=e[7];let f;e[8]!==i||e[9]!==d||e[10]!==b||e[11]!==F||e[12]!==y?(f=l.jsx(ue,{flex:1,children:l.jsx(Jt,{content:h,placement:"top",portal:!0,children:l.jsx(Le,{width:"fill",onClick:i,type:"button",icon:d,disabled:b,tone:F,text:y})})}),e[8]=i,e[9]=d,e[10]=b,e[11]=F,e[12]=y,e[13]=f):f=e[13];const g=u?tn:rn;let m;e[14]!==u||e[15]!==s?(m=s(u?"action.listen-cancel":"action.listen-execute"),e[14]=u,e[15]=s,e[16]=m):m=e[16];const S=!r,R=u?"positive":"default";let w;e[17]!==o||e[18]!==m||e[19]!==S||e[20]!==R||e[21]!==g?(w=l.jsx(ue,{flex:1,marginLeft:3,children:l.jsx(Le,{width:"fill",onClick:o,type:"button",icon:g,text:m,mode:"ghost",disabled:S,tone:R})}),e[17]=o,e[18]=m,e[19]=S,e[20]=R,e[21]=g,e[22]=w):w=e[22];let A;e[23]!==w||e[24]!==f?(A=l.jsxs(be,{justify:"space-evenly",children:[f,w]}),e[23]=w,e[24]=f,e[25]=A):A=e[25];let O;return e[26]!==r||e[27]!==A||e[28]!==c?(O=l.jsx(Lo,{children:l.jsx(fe,{padding:3,paddingX:3,children:l.jsx(Jt,{content:c,placement:"top",disabled:r,portal:!0,children:A})})}),e[26]=r,e[27]=A,e[28]=c,e[29]=O):O=e[29],O}const Go=ie(ue)`
  /* This limits the width of the popover content */
  max-width: 240px;
`,Zo=ie.a`
  cursor: pointer;
  margin-right: auto;
`,el=ie.div`
  width: 4px;
  height: 4px;
  border-radius: 3px;
  box-shadow: 0 0 0 1px var(--card-bg-color);
  background-color: ${({$tone:t})=>`var(--card-badge-${t}-dot-color)`};
`;function tl(){const t=le.c(39),[e,r]=P.useState(!1),u=P.useRef(null),n=P.useRef(null);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>r(rl),t[0]=i):i=t[0];const o=i,{t:s}=Ye(Xe);let a,c;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>r(!1),c=()=>[u.current,n.current],t[1]=a,t[2]=c):(a=t[1],c=t[2]),vs(a,c);let h;t[3]!==s?(h=s("settings.perspectives.title"),t[3]=s,t[4]=h):h=t[4];let d;t[5]!==h?(d=l.jsx(qn,{space:2,children:l.jsx(Se,{weight:"medium",children:h})}),t[5]=h,t[6]=d):d=t[6];let b;t[7]!==s?(b=s("settings.perspectives.description"),t[7]=s,t[8]=b):b=t[8];let F;t[9]!==b?(F=l.jsx(fe,{children:l.jsx(Se,{muted:!0,children:b})}),t[9]=b,t[10]=F):F=t[10];let y;t[11]!==s?(y=s("label.new"),t[11]=s,t[12]=y):y=t[12];let f;t[13]!==y?(f=l.jsx(ue,{children:l.jsx(Ss,{tone:"primary",children:y})}),t[13]=y,t[14]=f):f=t[14];let g;t[15]!==s?(g=l.jsx(Se,{muted:!0,children:l.jsx(Vn,{t:s,i18nKey:"settings.perspective.preview-drafts-renamed-to-drafts.description"})}),t[15]=s,t[16]=g):g=t[16];let m;t[17]!==f||t[18]!==g?(m=l.jsx(fe,{children:l.jsxs(ve,{space:2,children:[f,g]})}),t[17]=f,t[18]=g,t[19]=m):m=t[19];let S;t[20]!==s?(S=null,t[20]=s,t[21]=S):S=t[21];let R;t[22]!==s?(R=s("settings.perspectives.action.docs-link"),t[22]=s,t[23]=R):R=t[23];let w;t[24]!==R?(w=l.jsx(fe,{children:l.jsx(Se,{children:l.jsxs(Zo,{href:"https://www.sanity.io/docs/perspectives",target:"_blank",children:[R," →"]})})}),t[24]=R,t[25]=w):w=t[25];let A;t[26]!==m||t[27]!==S||t[28]!==w||t[29]!==d||t[30]!==F?(A=l.jsx(Go,{children:l.jsxs(ve,{space:4,children:[d,F,m,S,w]})}),t[26]=m,t[27]=S,t[28]=w,t[29]=d,t[30]=F,t[31]=A):A=t[31];let O;t[32]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx(el,{$tone:"primary"}),t[32]=O):O=t[32];let M;t[33]!==e?(M=l.jsx(Le,{icon:Bs,mode:"bleed",padding:2,paddingRight:1,tone:"primary",fontSize:1,ref:u,onClick:o,selected:e,children:O}),t[33]=e,t[34]=M):M=t[34];let V;return t[35]!==e||t[36]!==A||t[37]!==M?(V=l.jsx(bs,{content:A,placement:"bottom-start",portal:!0,padding:3,ref:n,open:e,children:M}),t[35]=e,t[36]=A,t[37]=M,t[38]=V):V=t[38],V}function rl(t){return!t}const ul=t=>{const e=le.c(11),{pinnedPerspective:r,t:u}=t,n=typeof r.selectedPerspective=="object"?r.selectedPerspective.metadata.title:r.selectedPerspectiveName;let i;e[0]!==r||e[1]!==u?(i=On(r)?`(${u("settings.perspectives.pinned-release-label")})`:u("settings.perspectives.pinned-release-label"),e[0]=r,e[1]=u,e[2]=i):i=e[2];const o=i;let s;e[3]!==o||e[4]!==n?(s=[n,o].filter(al),e[3]=o,e[4]=n,e[5]=s):s=e[5];const a=s.join(" ");let c;e[6]!==r?(c=On(r),e[6]=r,e[7]=c):c=e[7];const h=!c;let d;return e[8]!==h||e[9]!==a?(d=l.jsx("option",{value:"pinnedRelease",disabled:h,children:a}),e[8]=h,e[9]=a,e[10]=d):d=e[10],d};function nl(t){const e=le.c(65),{onChangeDataset:r,dataset:u,customApiVersion:n,apiVersion:i,onChangeApiVersion:o,datasets:s,customApiVersionElementRef:a,onCustomApiVersionChange:c,isValidApiVersion:h,onChangePerspective:d,url:b,perspective:F,isScheduledDraftsEnabled:y}=t,f=Tn(),{t:g}=Ye(Xe),m=P.useRef(null);let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{const Q=m.current;if(Q)try{Q.select(),document.execCommand("copy")}catch{console.error("Unable to copy to clipboard :(")}},e[0]=S):S=e[0];const R=S;let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=[1,4,8,12],e[1]=w):w=e[1];let A;e[2]!==g?(A=g("settings.dataset-label"),e[2]=g,e[3]=A):A=e[3];let O;e[4]!==A?(O=l.jsx(fe,{paddingTop:2,paddingBottom:3,children:l.jsx(Je,{children:A})}),e[4]=A,e[5]=O):O=e[5];let M;e[6]!==s?(M=s.map(sl),e[6]=s,e[7]=M):M=e[7];let V;e[8]!==u||e[9]!==r||e[10]!==M?(V=l.jsx(gu,{value:u,onChange:r,children:M}),e[8]=u,e[9]=r,e[10]=M,e[11]=V):V=e[11];let C;e[12]!==O||e[13]!==V?(C=l.jsx(ue,{padding:1,column:2,children:l.jsxs(ve,{children:[O,V]})}),e[12]=O,e[13]=V,e[14]=C):C=e[14];let D;e[15]!==g?(D=g("settings.api-version-label"),e[15]=g,e[16]=D):D=e[16];let v;e[17]!==D?(v=l.jsx(fe,{paddingTop:2,paddingBottom:3,children:l.jsx(Je,{children:D})}),e[17]=D,e[18]=v):v=e[18];const B=n===!1?i:"other";let E;e[19]===Symbol.for("react.memo_cache_sentinel")?(E=Ut.map(il),e[19]=E):E=e[19];let k;e[20]!==g?(k=g("settings.other-api-version-label"),e[20]=g,e[21]=k):k=e[21];let K;e[22]!==k?(K=l.jsx("option",{value:"other",children:k},"other"),e[22]=k,e[23]=K):K=e[23];let Y;e[24]!==o||e[25]!==B||e[26]!==K?(Y=l.jsxs(gu,{"data-testid":"api-version-selector",value:B,onChange:o,children:[E,K]}),e[24]=o,e[25]=B,e[26]=K,e[27]=Y):Y=e[27];let N;e[28]!==Y||e[29]!==v?(N=l.jsx(ue,{padding:1,column:2,children:l.jsxs(ve,{children:[v,Y]})}),e[28]=Y,e[29]=v,e[30]=N):N=e[30];let te;e[31]!==n||e[32]!==a||e[33]!==h||e[34]!==c||e[35]!==g?(te=n!==!1&&l.jsx(ue,{padding:1,column:2,children:l.jsxs(ve,{children:[l.jsx(fe,{paddingTop:2,paddingBottom:3,children:l.jsx(Je,{textOverflow:"ellipsis",children:g("settings.custom-api-version-label")})}),l.jsx(kr,{ref:a,value:n,onChange:c,customValidity:h?void 0:g("settings.error.invalid-api-version"),maxLength:11})]})}),e[31]=n,e[32]=a,e[33]=h,e[34]=c,e[35]=g,e[36]=te):te=e[36];let j;e[37]!==g?(j=g("settings.perspective-label"),e[37]=g,e[38]=j):j=e[38];let T;e[39]!==j?(T=l.jsx(ue,{children:l.jsx(Je,{children:j})}),e[39]=j,e[40]=T):T=e[40];let ne;e[41]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(ue,{children:l.jsx(tl,{})}),e[41]=ne):ne=e[41];let p;e[42]!==T?(p=l.jsx(fe,{paddingBottom:1,children:l.jsxs(qn,{space:1,children:[T,ne]})}),e[42]=T,e[43]=p):p=e[43];const _=F||"default";let I;e[44]!==y||e[45]!==f||e[46]!==g?(I=Si.map(Q=>Q==="pinnedRelease"?l.jsxs(P.Fragment,{children:[l.jsx(ul,{pinnedPerspective:f,t:g}),l.jsx("option",{value:"default",children:g("settings.perspectives.default")},"default"),l.jsx("hr",{})]},"pinnedRelease"):Q==="scheduledDrafts"?y?l.jsx("option",{value:"scheduledDrafts",children:g("settings.perspectives.scheduled-drafts")},"scheduledDrafts"):null:l.jsx("option",{children:Q},Q)),e[44]=y,e[45]=f,e[46]=g,e[47]=I):I=e[47];let $;e[48]!==d||e[49]!==_||e[50]!==I?($=l.jsx(gu,{value:_,onChange:d,children:I}),e[48]=d,e[49]=_,e[50]=I,e[51]=$):$=e[51];let U;e[52]!==p||e[53]!==$?(U=l.jsx(ue,{padding:1,column:2,children:l.jsxs(ve,{children:[p,$]})}),e[52]=p,e[53]=$,e[54]=U):U=e[54];let ee;e[55]!==n||e[56]!==g||e[57]!==b?(ee=typeof b=="string"?l.jsx(ue,{padding:1,flex:1,column:n===!1?6:4,children:l.jsxs(ve,{children:[l.jsx(fe,{paddingTop:2,paddingBottom:3,children:l.jsxs(Je,{children:[g("query.url")," ",l.jsxs(jo,{onClick:R,children:["[",g("action.copy-url-to-clipboard"),"]"]})]})}),l.jsxs(be,{flex:1,gap:1,children:[l.jsx(ue,{flex:1,children:l.jsx(kr,{readOnly:!0,type:"url",ref:m,value:b})}),l.jsx(Jt,{content:g("action.copy-url-to-clipboard"),children:l.jsx(Le,{"aria-label":g("action.copy-url-to-clipboard"),type:"button",mode:"ghost",icon:ss,onClick:R})})]})]})}):l.jsx(ue,{flex:1}),e[55]=n,e[56]=g,e[57]=b,e[58]=ee):ee=e[58];let W;return e[59]!==N||e[60]!==te||e[61]!==U||e[62]!==ee||e[63]!==C?(W=l.jsx(Bo,{paddingX:3,paddingY:2,children:l.jsxs(as,{columns:w,children:[C,N,te,U,ee]})}),e[59]=N,e[60]=te,e[61]=U,e[62]=ee,e[63]=C,e[64]=W):W=e[64],W}function il(t){return l.jsx("option",{children:t},t)}function sl(t){return l.jsx("option",{children:t},t)}function al(t){return typeof t<"u"}function ol(t,e){return URL.createObjectURL(new Blob([t],{type:e}))}function Oi(t,e){return(()=>{let r="",u="";return n=>{const i=e(n);if(!(typeof i!="string"||i===""))return i===u||(u=i,r&&URL.revokeObjectURL(r),r=ol(i,t)),r}})()}const ll=Oi("application/json",t=>JSON.stringify(t,null,2)),cl=Oi("text/csv",t=>lo.json2csv(Array.isArray(t)?t:[t]).trim()),Lu=ie(Qr)`
  color: ${({theme:t})=>t.sanity.color.muted.critical.enabled.fg};
`;function dl(t){const e=le.c(20),{error:r}=t,{t:u}=Ye(Xe);if(!("details"in r))return null;const n=r.details;let i,o,s,a,c,h;if(e[0]!==r.details){h=Symbol.for("react.early_return_sentinel");e:{if(o={...n,...fl(r.details)},!o.line){h=null;break e}i=Lu,c=1,s=o.line,a=hl(o.column,o.columnEnd)}e[0]=r.details,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=c,e[6]=h}else i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],h=e[6];if(h!==Symbol.for("react.early_return_sentinel"))return h;const d=`${s}
${a}`;let b;e[7]!==i||e[8]!==c||e[9]!==d?(b=l.jsx(i,{size:c,children:d}),e[7]=i,e[8]=c,e[9]=d,e[10]=b):b=e[10];let F;e[11]!==u?(F=u("query.error.line"),e[11]=u,e[12]=F):F=e[12];const y=o.lineNumber;let f;e[13]!==u?(f=u("query.error.column"),e[13]=u,e[14]=f):f=e[14];const g=`${F}:   ${y}
${f}: ${o.column}`;let m;e[15]!==g?(m=l.jsx(ue,{marginTop:4,children:l.jsx(Lu,{size:1,children:g})}),e[15]=g,e[16]=m):m=e[16];let S;return e[17]!==m||e[18]!==b?(S=l.jsxs("div",{children:[b,m]}),e[17]=m,e[18]=b,e[19]=S):S=e[19],S}function fl(t){if(!t||typeof t.query!="string"||typeof t.start!="number")return{};const{query:e,start:r,end:u}=t,n=e.slice(0,r).lastIndexOf(`
`)+1,i=(e.slice(0,n).match(/\n/g)||[]).length,o=e.slice(n,e.indexOf(`
`,n)),s=r-n,a=typeof u=="number"?u-n:void 0;return{line:o,lineNumber:i,column:s,columnEnd:a}}function hl(t,e){const r="-".repeat(t),u="^".repeat(e?e-t:1);return`${r}${u}`}function Dl(t){const e=le.c(7);let r;e[0]!==t.error.message?(r=l.jsx(Lu,{size:1,children:t.error.message}),e[0]=t.error.message,e[1]=r):r=e[1];let u;e[2]!==t.error?(u=l.jsx(dl,{error:t.error}),e[2]=t.error,e[3]=u):u=e[3];let n;return e[4]!==r||e[5]!==u?(n=l.jsxs(ve,{space:5,marginTop:2,children:[r,u]}),e[4]=r,e[5]=u,e[6]=n):n=e[6],n}const pl=ie.div(({theme:t})=>{const{color:e,fonts:r,space:u}=t.sanity;return $n`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${r.code.family};
      font-size: ${r.code.sizes[2].fontSize}px;
      line-height: ${r.code.sizes[2].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${Ie(u[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${Ie(u[0])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0px - ${Ie(u[4])});
      font-size: ${r.code.sizes[2].fontSize}px;
      line-height: ${r.code.sizes[2].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: ${r.code.sizes[2].fontSize}px;
      line-height: ${r.code.sizes[2].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${Ie(u[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${e.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${e.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${Ie(u[2])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${e.syntax.string};
      word-break: break-word;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${e.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${e.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `}),Tu=new ho({maxSize:5e4});function Mn(t){const e=le.c(7),{data:r,datasetName:u}=t,n=Ds();if(zi(r)||Array.isArray(r)){const s=n===u?ml:void 0;let a;return e[0]!==r||e[1]!==s?(a=l.jsx(pl,{children:l.jsx(ps,{data:r,search:!1,isExpanded:gl,onClick:Cl,interactiveLabel:s})}),e[0]=r,e[1]=s,e[2]=a):a=e[2],a}let i;e[3]!==r?(i=JSON.stringify(r),e[3]=r,e[4]=i):i=e[4];let o;return e[5]!==i?(o=l.jsx(Qr,{language:"json",children:i}),e[5]=i,e[6]=o):o=e[6],o}function ml(t){const e=le.c(5);if(t.isKey||!t.keypath.endsWith("_id")&&!t.keypath.endsWith("_ref"))return null;let r;e[0]!==t.value?(r={id:t.value},e[0]=t.value,e[1]=r):r=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(xs,{}),e[2]=u):u=e[2];let n;return e[3]!==r?(n=l.jsx(gs,{intent:"edit",params:r,children:u}),e[3]=r,e[4]=n):n=e[4],n}function gl(t,e){const r=Tu.get(t);if(typeof r=="boolean")return r;const u=t.split(".",4);return u.length===4?!1:Array.isArray(e)?!0:zi(e)&&!u.some(n=>Al(n))}function Cl(t){const{path:e}=t,r=Tu.get(e);r!==void 0&&Tu.set(e,!r)}function zi(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}const Fl=/^\d+$/;function Al(t,e=10){return Fl.test(t)&&parseInt(t,10)>e}function El(t){return t.preventDefault()}function yl(t){const e=le.c(9),{blobUrl:r}=t,{t:u}=Ye(Xe),n=!r,i=n?void 0:"query-result.csv",o=n?El:void 0;let s;e[0]!==r||e[1]!==n||e[2]!==i||e[3]!==o?(s=l.jsx(Le,{as:"a",disabled:n,download:i,href:r,icon:Wn,mode:"ghost",onClick:o,text:"CSV",tone:"default"}),e[0]=r,e[1]=n,e[2]=i,e[3]=o,e[4]=s):s=e[4];const a=s;let c;return e[5]!==a||e[6]!==n||e[7]!==u?(c=n?l.jsx(Jt,{content:u("result.save-result-as-csv.not-csv-encodable"),placement:"top",children:a}):a,e[5]=a,e[6]=n,e[7]=u,e[8]=c):c=e[8],c}function xl(t){const e=le.c(2),{blobUrl:r}=t;let u;return e[0]!==r?(u=l.jsx(Le,{as:"a",download:"query-result.json",href:r,icon:Wn,mode:"ghost",text:"JSON",tone:"default"}),e[0]=r,e[1]=u):u=e[1],u}function vl(t){const e=le.c(67),{error:r,queryInProgress:u,queryResult:n,listenInProgress:i,listenMutations:o,dataset:s,queryTime:a,e2eTime:c}=t,{t:h}=Ye(Xe),d=!r&&!u&&typeof n<"u";let b;e[0]!==d||e[1]!==n?(b=d?ll(n):"",e[0]=d,e[1]=n,e[2]=b):b=e[2];const F=b;let y;e[3]!==d||e[4]!==n?(y=d?cl(n):"",e[3]=d,e[4]=n,e[5]=y):y=e[5];const f=y,g=r?"critical":"default",m=!!r;let S;e[6]!==h?(S=h("result.label"),e[6]=h,e[7]=S):S=e[7];let R;e[8]!==S?(R=l.jsx(_i,{children:l.jsx(ue,{marginLeft:3,children:l.jsx(Je,{muted:!0,children:S})})}),e[8]=S,e[9]=R):R=e[9];let w;e[10]!==i||e[11]!==o||e[12]!==u?(w=(u||i&&o.length===0)&&l.jsx(ue,{marginTop:3,children:l.jsx(bi,{})}),e[10]=i,e[11]=o,e[12]=u,e[13]=w):w=e[13];let A;e[14]!==r?(A=r&&l.jsx(Dl,{error:r}),e[14]=r,e[15]=A):A=e[15];let O;e[16]!==s||e[17]!==d||e[18]!==n?(O=d&&l.jsx(Mn,{data:n,datasetName:s}),e[16]=s,e[17]=d,e[18]=n,e[19]=O):O=e[19];let M;e[20]!==s||e[21]!==i||e[22]!==o?(M=i&&o.length>0&&l.jsx(Mn,{data:o,datasetName:s}),e[20]=s,e[21]=i,e[22]=o,e[23]=M):M=e[23];let V;e[24]!==M||e[25]!==w||e[26]!==A||e[27]!==O?(V=l.jsxs(ue,{padding:3,paddingTop:5,children:[w,A,O,M]}),e[24]=M,e[25]=w,e[26]=A,e[27]=O,e[28]=V):V=e[28];let C;e[29]!==V||e[30]!==R?(C=l.jsxs(Oo,{overflow:"auto",children:[R,V]}),e[29]=V,e[30]=R,e[31]=C):C=e[31];let D;e[32]!==C||e[33]!==g||e[34]!==m?(D=l.jsx(Ro,{flex:1,children:l.jsx(Po,{flex:1,overflow:"hidden",tone:g,$isInvalid:m,children:C})}),e[32]=C,e[33]=g,e[34]=m,e[35]=D):D=e[35];let v;e[36]===Symbol.for("react.memo_cache_sentinel")?(v=["column","column","row"],e[36]=v):v=e[36];let B;e[37]!==h?(B=h("result.execution-time-label"),e[37]=h,e[38]=B):B=e[38];let E;e[39]!==a||e[40]!==h?(E=typeof a=="number"?`${a}ms`:h("result.timing-not-applicable"),e[39]=a,e[40]=h,e[41]=E):E=e[41];let k;e[42]!==B||e[43]!==E?(k=l.jsx(ue,{children:l.jsxs(Se,{muted:!0,children:[B,":"," ",E]})}),e[42]=B,e[43]=E,e[44]=k):k=e[44];let K;e[45]!==h?(K=h("result.end-to-end-time-label"),e[45]=h,e[46]=K):K=e[46];let Y;e[47]!==c||e[48]!==h?(Y=typeof c=="number"?`${c}ms`:h("result.timing-not-applicable"),e[47]=c,e[48]=h,e[49]=Y):Y=e[49];let N;e[50]!==K||e[51]!==Y?(N=l.jsx(ue,{marginLeft:4,children:l.jsxs(Se,{muted:!0,children:[K,":"," ",Y]})}),e[50]=K,e[51]=Y,e[52]=N):N=e[52];let te;e[53]!==k||e[54]!==N?(te=l.jsx(ko,{paddingX:4,paddingY:3,sizing:"border",children:l.jsxs(Mo,{align:"center",children:[k,N]})}),e[53]=k,e[54]=N,e[55]=te):te=e[55];let j;e[56]!==f||e[57]!==d||e[58]!==F||e[59]!==h?(j=d&&l.jsx(Io,{paddingX:4,paddingY:3,sizing:"border",children:l.jsx(No,{muted:!0,children:l.jsx(Vn,{components:{SaveResultButtons:()=>l.jsxs(l.Fragment,{children:[l.jsx(xl,{blobUrl:F}),l.jsx(yl,{blobUrl:f})]})},i18nKey:"result.save-result-as-format",t:h})})}),e[56]=f,e[57]=d,e[58]=F,e[59]=h,e[60]=j):j=e[60];let T;e[61]!==te||e[62]!==j?(T=l.jsxs(zo,{justify:"space-between",direction:v,children:[te,j]}),e[61]=te,e[62]=j,e[63]=T):T=e[63];let ne;return e[64]!==D||e[65]!==T?(ne=l.jsxs(_o,{direction:"column","data-testid":"vision-result",children:[D,T]}),e[64]=D,e[65]=T,e[66]=ne):ne=e[66],ne}function bl(t,e){return!t||!e?!1:t===e||!!(t.compareDocumentPosition(e)&16)}const Sl=/\/(vX|v1|v\d{4}-\d\d-\d\d)\/.*?(?:query|listen)\/(.*?)\?(.*)/,Bl=t=>un("ctrl+enter",t)||un("mod+enter",t);function wl(t){const e=le.c(210),{datasets:r,config:u,projectId:n,defaultDataset:i}=t,o=Ln(),{t:s}=Ye(Xe),{perspectiveStack:a}=Tn(),c=Ji(),{data:h}=Ki();let d;e[0]!==h?(d=h===void 0?[]:h,e[0]=h,e[1]=d):d=e[1];const b=d,F=Yi().document.drafts.enabled,y=P.useRef(null),f=P.useRef(null),g=P.useRef(null),m=P.useRef(null),S=P.useRef(void 0),R=P.useRef(void 0);let w;e[2]!==n?(w=()=>yo(n||"default"),e[2]=n,e[3]=w):w=e[3];const[A]=P.useState(w);let O;e[4]!==i||e[5]!==A?(O=A.get("dataset",i),e[4]=i,e[5]=A,e[6]=O):O=e[6];const M=O;let V;e[7]!==u.defaultApiVersion||e[8]!==A?(V=A.get("apiVersion",bo(`${u.defaultApiVersion}`)),e[7]=u.defaultApiVersion,e[8]=A,e[9]=V):V=e[9];const C=V;let D;e[10]!==A?(D=A.get("query",""),e[10]=A,e[11]=D):D=e[11];const v=D;let B;e[12]!==A?(B=A.get("params",`{
  
}`),e[12]=A,e[13]=B):B=e[13];const E=B;let k;e[14]!==A?(k=A.get("perspective",void 0),e[14]=A,e[15]=k):k=e[15];const K=k;let Y;e[16]!==r||e[17]!==i||e[18]!==M?(Y=()=>r.includes(M)?M:r.includes(i)?i:r[0],e[16]=r,e[17]=i,e[18]=M,e[19]=Y):Y=e[19];const[N,te]=P.useState(Y);let j;e[20]!==C?(j=()=>Ut.includes(C)?C:vi,e[20]=C,e[21]=j):j=e[21];const[T,ne]=P.useState(j);let p;e[22]!==C?(p=()=>Ut.includes(C)?!1:C,e[22]=C,e[23]=p):p=e[23];const[_,I]=P.useState(p),[$,U]=P.useState(K||"raw");let ee;e[24]!==_?(ee=_?_u(_):!0,e[24]=_,e[25]=ee):ee=e[25];const W=ee,[Q,he]=P.useState(void 0);let me;e[26]!==v?(me=()=>typeof v=="string"?v:"",e[26]=v,e[27]=me):me=e[27];const[se,Te]=P.useState(me),[Ge,$e]=P.useState(E);let re;e[28]!==Ge||e[29]!==s?(re=kn(Ge,s),e[28]=Ge,e[29]=s,e[30]=re):re=e[30];const G=re,[at,kt]=P.useState(void 0);let tt;e[31]===Symbol.for("react.memo_cache_sentinel")?(tt=[],e[31]=tt):tt=e[31];const[Ce,Ur]=P.useState(tt),[Jr,Mt]=P.useState(void 0),[Kr,Yr]=P.useState(void 0),[Xr,Gr]=P.useState(void 0),[qe,It]=P.useState(!1),[Ve,Gt]=P.useState(!1),[rt,ki]=P.useState(!1);let Zt;e[32]===Symbol.for("react.memo_cache_sentinel")?(Zt={visionRootRef:g},e[32]=Zt):Zt=e[32];const{paneSizeOptions:Be,isNarrowBreakpoint:Zr}=Jo(Zt);let eu;e:{if(!c){eu=void 0;break e}let z;if(e[33]!==F||e[34]!==b){const L=b.filter(_l),Fe=Xi(L).map(jl);let Pe;e[36]!==F?(Pe=F?["drafts"]:["published"],e[36]=F,e[37]=Pe):Pe=e[37];const $t=Pe;z=[...Fe,...$t],e[33]=F,e[34]=b,e[35]=z}else z=e[35];eu=z}const We=eu,tu=W&&_?_:T;let er;e[38]!==tu?(er={apiVersion:tu},e[38]=tu,e[39]=er):er=e[39];const ru=$u(er);let tr;e[40]!==ru||e[41]!==T||e[42]!==_||e[43]!==N||e[44]!==W||e[45]!==$||e[46]!==a||e[47]!==We?(tr=ru.withConfig({apiVersion:W&&_?_:T,perspective:wu({visionPerspective:$,perspectiveStack:a,scheduledDraftsStack:We}),dataset:N,allowReconfigure:!0}),e[40]=ru,e[41]=T,e[42]=_,e[43]=N,e[44]=W,e[45]=$,e[46]=a,e[47]=We,e[48]=tr):tr=e[48];const Re=tr;let rr;e[49]===Symbol.for("react.memo_cache_sentinel")?(rr=()=>{S.current&&(S.current.unsubscribe(),S.current=void 0)},e[49]=rr):rr=e[49];const ur=rr;let nr;e[50]===Symbol.for("react.memo_cache_sentinel")?(nr=()=>{R.current&&(R.current.unsubscribe(),R.current=void 0)},e[50]=nr):nr=e[50];const Nt=nr;let ir;e[51]!==T||e[52]!==Re||e[53]!==_||e[54]!==N||e[55]!==W||e[56]!==A||e[57]!==G.parsed||e[58]!==$||e[59]!==a||e[60]!==se||e[61]!==qe||e[62]!==We||e[63]!==s?(ir=z=>{if(qe){ur(),Nt(),It(!1);return}const L={query:z?.query||se,dataset:z?.dataset||N,params:kn(JSON.stringify(z?.params||G.parsed,null,2),s),perspective:wu({visionPerspective:z&&"perspective"in z?z.perspective:$,perspectiveStack:a,scheduledDraftsStack:We}),apiVersion:z?.apiVersion||(_&&W?_:T)};if(A.set("query",L.query),A.set("params",L.params.raw),Nt(),It(!L.params.error&&!!L.query),Gt(!1),Ur([]),Mt(L.params.error?new Error(L.params.error):void 0),kt(void 0),Yr(void 0),Gr(void 0),L.params.error)return;const Fe={perspective:L.perspective??[]},Pe=Re.withConfig({apiVersion:L.apiVersion,dataset:L.dataset,perspective:L.perspective}),$t=Pe.getUrl(Pe.getDataUrl("query",ju(L.query,L.params.parsed,Fe)));he($t);const pu=Date.now();S.current=Pe.observable.fetch(L.query,L.params.parsed,{filterResponse:!1,tag:"vision"}).subscribe({next:Ee=>{Yr(Ee.ms),Gr(Date.now()-pu),kt(Ee.result),It(!1),Mt(void 0)},error:Ee=>{Mt(Ee),It(!1)}})},e[51]=T,e[52]=Re,e[53]=_,e[54]=N,e[55]=W,e[56]=A,e[57]=G.parsed,e[58]=$,e[59]=a,e[60]=se,e[61]=qe,e[62]=We,e[63]=s,e[64]=ir):ir=e[64];const ce=ir;let sr;e[65]!==ce||e[66]!==A?(sr=z=>{z!==void 0&&!Bu(z)||(U(z),A.set("perspective",z),ce({perspective:z}))},e[65]=ce,e[66]=A,e[67]=sr):sr=e[67];const ot=sr;let ar;e[68]!==ce||e[69]!==A?(ar=z=>{const L=z.target.value;A.set("dataset",L),te(L),ce({dataset:L})},e[68]=ce,e[69]=A,e[70]=ar):ar=e[70];const uu=ar;let or;e[71]!==ce||e[72]!==A?(or=z=>{const L=z.target.value;if(L?.toLowerCase()==="other"){I("v"),m.current?.focus();return}ne(L),I(!1),A.set("apiVersion",L),ce({apiVersion:L})},e[71]=ce,e[72]=A,e[73]=or):or=e[73];const nu=or;let lr;e[74]!==ce||e[75]!==A?(lr=z=>{const L=z.target.value||"";I(L||"v"),_u(L)&&(ne(L),A.set("apiVersion",L),ce({apiVersion:L}))},e[74]=ce,e[75]=A,e[76]=lr):lr=e[76];const iu=lr;let cr;e[77]!==ot?(cr=z=>{const L=z.target.value;ot(L==="default"?void 0:L)},e[77]=ot,e[78]=cr):cr=e[78];const su=cr;let dr;e[79]===Symbol.for("react.memo_cache_sentinel")?(dr=z=>{z.type==="mutation"&&Ur(L=>L.length===50?[z,...L.slice(0,49)]:[z,...L])},e[79]=dr):dr=e[79];const Mi=dr;let fr;e[80]!==Re||e[81]!==Ve||e[82]!==A||e[83]!==G.error||e[84]!==G.parsed||e[85]!==G.raw||e[86]!==se?(fr=()=>{if(Ve){Nt(),Gt(!1);return}const z=Re.getDataUrl("listen",ju(se,G.parsed,{})),L=!G.error&&se.trim().length>0;A.set("query",se),A.set("params",G.raw),ur(),he(z),Ur([]),It(!1),kt(void 0),Gt(L),Mt(G.error?new Error(G.error):void 0),Yr(void 0),Gr(void 0),L&&(R.current=Re.listen(se,G.parsed,{events:["mutation","welcome"],includeAllVersions:!0}).subscribe({next:Mi,error:Fe=>{Mt(Fe),Gt(!1)}}))},e[80]=Re,e[81]=Ve,e[82]=A,e[83]=G.error,e[84]=G.parsed,e[85]=G.raw,e[86]=se,e[87]=fr):fr=e[87];const au=fr;let hr;e[88]!==A?(hr=z=>{$e(z),A.set("params",z)},e[88]=A,e[89]=hr):hr=e[89];const ou=hr;let Dr;e[90]!==T||e[91]!==N||e[92]!==r||e[93]!==$||e[94]!==o?(Dr=z=>{const L=z.match(Sl);if(!L)return null;const[,Fe,Pe,$t]=L,pu=new URLSearchParams($t),Ee=vo(pu);if(!Ee)return null;let Zu,mu;_u(Fe)&&(Ut.includes(Fe)?(Zu=Fe,mu=!1):mu=Fe);const en=Bu(Ee.options.perspective)&&!Pn(Ee.options.perspective)?Ee.options.perspective:void 0;return en&&(!Bu(Ee.options.perspective)||Pn(Ee.options.perspective))&&o.push({closable:!0,id:"vision-paste-unsupported-perspective",status:"warning",title:'Perspective in pasted url is currently not supported. Falling back to "raw"'}),{query:Ee.query,params:Ee.params,rawParams:JSON.stringify(Ee.params,null,2),dataset:r.includes(Pe)?Pe:N,apiVersion:Zu||T,customApiVersion:mu,perspective:en||$,url:z}},e[90]=T,e[91]=N,e[92]=r,e[93]=$,e[94]=o,e[95]=Dr):Dr=e[95];const lt=Dr;let pr;e[96]!==ce||e[97]!==A?(pr=z=>{te(z.dataset),Te(z.query),$e(z.rawParams),ne(z.apiVersion),z.customApiVersion&&I(z.customApiVersion),U(z.perspective),he(z.url),y.current?.resetEditorContent(z.query),f.current?.resetEditorContent(z.rawParams),A.merge({query:z.query,params:z.rawParams,dataset:z.dataset,apiVersion:z.customApiVersion||z.apiVersion,perspective:z.perspective}),ce(z)},e[96]=ce,e[97]=A,e[98]=pr):pr=e[98];const ct=pr;let mr;e[99]!==lt||e[100]!==ct||e[101]!==o?(mr=z=>{if(!z.clipboardData)return;const L=z.clipboardData.getData("text/plain");z.preventDefault();const Fe=lt(L);Fe&&(ct(Fe),o.push({closable:!0,id:"vision-paste",status:"info",title:"Parsed URL to query"}))},e[99]=lt,e[100]=ct,e[101]=o,e[102]=mr):mr=e[102];const Lt=mr;let gr;e[103]!==ce||e[104]!==G.valid?(gr=z=>{const L=g.current&&bl(g.current,z.target);Bl(z)&&L&&G.valid&&(ce(),z.preventDefault(),z.stopPropagation())},e[103]=ce,e[104]=G.valid,e[105]=gr):gr=e[105];const Tt=gr;let Cr,Fr;e[106]!==Tt||e[107]!==Lt?(Cr=()=>(window.document.addEventListener("paste",Lt),window.document.addEventListener("keydown",Tt),()=>{window.document.removeEventListener("paste",Lt),window.document.removeEventListener("keydown",Tt)}),Fr=[Tt,Lt],e[106]=Tt,e[107]=Lt,e[108]=Cr,e[109]=Fr):(Cr=e[108],Fr=e[109]),P.useEffect(Cr,Fr);let Ar,Er;e[110]===Symbol.for("react.memo_cache_sentinel")?(Ar=()=>()=>{ur(),Nt()},Er=[ur,Nt],e[110]=Ar,e[111]=Er):(Ar=e[110],Er=e[111]),P.useEffect(Ar,Er);let yr;e[112]!==ot?(yr=z=>{z.length>0&&ot("pinnedRelease")},e[112]=ot,e[113]=yr):yr=e[113];const lu=P.useEffectEvent(yr);let xr;e[114]!==lu||e[115]!==a?(xr=()=>{lu(a)},e[114]=lu,e[115]=a,e[116]=xr):xr=e[116];let vr;e[117]!==a?(vr=[a],e[117]=a,e[118]=vr):vr=e[118],P.useEffect(xr,vr);let br;e[119]!==Re||e[120]!==$||e[121]!==a||e[122]!==We?(br=(z,L)=>{const Fe={perspective:wu({visionPerspective:$,perspectiveStack:a,scheduledDraftsStack:We})??[]};return Re.getUrl(Re.getDataUrl("query",ju(z,L,Fe)))},e[119]=Re,e[120]=$,e[121]=a,e[122]=We,e[123]=br):br=e[123];const cu=br;let dt;e[124]!==T||e[125]!==_||e[126]!==N||e[127]!==r||e[128]!==nu||e[129]!==uu||e[130]!==su||e[131]!==iu||e[132]!==c||e[133]!==W||e[134]!==$||e[135]!==Q?(dt=l.jsx(nl,{apiVersion:T,customApiVersion:_,dataset:N,datasets:r,onChangeDataset:uu,onChangeApiVersion:nu,customApiVersionElementRef:m,onCustomApiVersionChange:iu,isValidApiVersion:W,onChangePerspective:su,url:Q,perspective:$,isScheduledDraftsEnabled:c}),e[124]=T,e[125]=_,e[126]=N,e[127]=r,e[128]=nu,e[129]=uu,e[130]=su,e[131]=iu,e[132]=c,e[133]=W,e[134]=$,e[135]=Q,e[136]=dt):dt=e[136];const du=rt?window.innerWidth:window.innerWidth-275,fu=Zr?"vertical":"horizontal",hu=Zr?Be.defaultSize:Be.minSize,Ii=Be.size,Ni=Be.allowResize,Du=Zr?Be.minSize:100,Li=Be.maxSize;let ft;e[137]!==s?(ft=s("query.label"),e[137]=s,e[138]=ft):ft=e[138];let ht;e[139]!==ft?(ht=l.jsx(Ri,{children:l.jsx(be,{children:l.jsx(Je,{muted:!0,children:ft})})}),e[139]=ft,e[140]=ht):ht=e[140];let Dt;e[141]!==se?(Dt=l.jsx(Xu,{initialValue:se,onChange:Te,ref:y}),e[141]=se,e[142]=Dt):Dt=e[142];let pt;e[143]!==ht||e[144]!==Dt?(pt=l.jsx(zn,{display:"flex","data-testid":"vision-query-editor",children:l.jsxs(ue,{flex:1,children:[ht,Dt]})}),e[143]=ht,e[144]=Dt,e[145]=pt):pt=e[145];let mt;e[146]!==ou||e[147]!==G.error||e[148]!==G.raw||e[149]!==G.valid?(mt=l.jsx($o,{value:G.raw,onChange:ou,paramsError:G.error,hasValidParams:G.valid,editorRef:f}),e[146]=ou,e[147]=G.error,e[148]=G.raw,e[149]=G.valid,e[150]=mt):mt=e[150];let gt;e[151]!==au||e[152]!==ce||e[153]!==Ve||e[154]!==G.valid||e[155]!==qe?(gt=l.jsx(Xo,{hasValidParams:G.valid,queryInProgress:qe,listenInProgress:Ve,onQueryExecution:ce,onListenExecution:au}),e[151]=au,e[152]=ce,e[153]=Ve,e[154]=G.valid,e[155]=qe,e[156]=gt):gt=e[156];let Ct;e[157]!==mt||e[158]!==gt?(Ct=l.jsxs(zn,{display:"flex",children:[mt,gt]}),e[157]=mt,e[158]=gt,e[159]=Ct):Ct=e[159];let Ft;e[160]!==Be.allowResize||e[161]!==Be.maxSize||e[162]!==Be.size||e[163]!==hu||e[164]!==Du||e[165]!==pt||e[166]!==Ct?(Ft=l.jsx(ue,{height:"stretch",flex:1,children:l.jsxs(Fu,{className:"sidebarPanes",split:"horizontal",defaultSize:hu,size:Ii,allowResize:Ni,minSize:Du,maxSize:Li,primary:"first",children:[pt,Ct]})}),e[160]=Be.allowResize,e[161]=Be.maxSize,e[162]=Be.size,e[163]=hu,e[164]=Du,e[165]=pt,e[166]=Ct,e[167]=Ft):Ft=e[167];let At;e[168]!==N||e[169]!==Xr||e[170]!==Jr||e[171]!==Ve||e[172]!==Ce||e[173]!==qe||e[174]!==at||e[175]!==Kr?(At=l.jsx(vl,{error:Jr,queryInProgress:qe,queryResult:at,listenInProgress:Ve,listenMutations:Ce,dataset:N,queryTime:Kr,e2eTime:Xr}),e[168]=N,e[169]=Xr,e[170]=Jr,e[171]=Ve,e[172]=Ce,e[173]=qe,e[174]=at,e[175]=Kr,e[176]=At):At=e[176];let Et;e[177]!==fu||e[178]!==Ft||e[179]!==At?(Et=l.jsx(ue,{height:"stretch",flex:1,children:l.jsxs(Fu,{className:"sidebarPanes",split:fu,minSize:300,children:[Ft,At]})}),e[177]=fu,e[178]=Ft,e[179]=At,e[180]=Et):Et=e[180];let Sr;e[181]===Symbol.for("react.memo_cache_sentinel")?(Sr={position:"relative",height:"100%"},e[181]=Sr):Sr=e[181];let Br;e[182]===Symbol.for("react.memo_cache_sentinel")?(Br={position:"absolute",left:-32,top:"50%",transform:"translateY(-50%)",zIndex:100,pointerEvents:"auto"},e[182]=Br):Br=e[182];let yt;e[183]!==rt?(yt=()=>ki(!rt),e[183]=rt,e[184]=yt):yt=e[184];let wr;e[185]===Symbol.for("react.memo_cache_sentinel")?(wr={display:"flex",alignItems:"center",height:"100%"},e[185]=wr):wr=e[185];let xt;e[186]!==rt?(xt=l.jsx("div",{style:wr,children:rt?l.jsx(ns,{}):l.jsx(is,{})}),e[186]=rt,e[187]=xt):xt=e[187];let vt;e[188]!==yt||e[189]!==xt?(vt=l.jsx(Le,{mode:"ghost",padding:2,style:Br,onClick:yt,children:xt}),e[188]=yt,e[189]=xt,e[190]=vt):vt=e[190];let bt;e[191]!==G.parsed?(bt=G.parsed||{},e[191]=G.parsed,e[192]=bt):bt=e[192];let St;e[193]!==cu||e[194]!==lt||e[195]!==se||e[196]!==ct||e[197]!==bt||e[198]!==Q?(St=l.jsx(Uo,{url:Q,getStateFromUrl:lt,setStateFromParsedUrl:ct,currentQuery:se,currentParams:bt,generateUrl:cu}),e[193]=cu,e[194]=lt,e[195]=se,e[196]=ct,e[197]=bt,e[198]=Q,e[199]=St):St=e[199];let Bt;e[200]!==vt||e[201]!==St?(Bt=l.jsxs(ue,{style:Sr,children:[vt,St]}),e[200]=vt,e[201]=St,e[202]=Bt):Bt=e[202];let wt;e[203]!==du||e[204]!==Et||e[205]!==Bt?(wt=l.jsx(wo,{flex:"auto",children:l.jsxs(Fu,{minSize:800,defaultSize:window.innerWidth-275,size:du,maxSize:-225,primary:"first",children:[Et,Bt]})}),e[203]=du,e[204]=Et,e[205]=Bt,e[206]=wt):wt=e[206];let jr;return e[207]!==dt||e[208]!==wt?(jr=l.jsxs(ji,{direction:"column",height:"fill",ref:g,sizing:"border",overflow:"hidden","data-testid":"vision-root",children:[dt,wt]}),e[207]=dt,e[208]=wt,e[209]=jr):jr=e[209],jr}function jl(t){return Zi(t._id)}function _l(t){return Gi(t)&&t.state==="scheduled"}function Rl(t){const e=le.c(7),{client:r,datasets:u}=t;let n;e:{if(Array.isArray(u)){let o;e[0]!==u?(o=In(u),e[0]=u,e[1]=o):o=e[1],n=o;break e}let i;if(e[2]!==r.observable.datasets||e[3]!==u){let o;e[5]!==u?(o=s=>typeof u=="function"?u(s).map(zl):s.map(Ol),e[5]=u,e[6]=o):o=e[6],i=r.observable.datasets.list().pipe(Nn(o),Qi(Pl)),e[2]=r.observable.datasets,e[3]=u,e[4]=i}else i=e[4];n=i}return Hi(n,null)}function Pl(t){return In(t)}function Ol(t){return t.name}function zl(t){return t.name}function kl(t){const e=le.c(19);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={apiVersion:"v2025-06-27"},e[0]=r):r=e[0];const u=$u(r);let n;e[1]!==u||e[2]!==t.config.datasets?(n={client:u,datasets:t.config.datasets},e[1]=u,e[2]=t.config.datasets,e[3]=n):n=e[3];const i=Rl(n);if(!i){let F;return e[4]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(be,{align:"center",height:"fill",justify:"center",children:l.jsx(bi,{})}),e[4]=F):F=e[4],F}let o;e[5]!==i||e[6]!==t.client?(o=i instanceof Error?[t.client.config().dataset||"production"]:i,e[5]=i,e[6]=t.client,e[7]=o):o=e[7];const s=o;let a;e[8]!==t.client?(a=t.client.config(),e[8]=t.client,e[9]=a):a=e[9];const c=a.projectId;let h;e[10]!==s||e[11]!==t.client||e[12]!==t.config.defaultDataset?(h=t.config.defaultDataset||t.client.config().dataset||s[0],e[10]=s,e[11]=t.client,e[12]=t.config.defaultDataset,e[13]=h):h=e[13];const d=h;let b;return e[14]!==s||e[15]!==d||e[16]!==c||e[17]!==t?(b=l.jsx(wl,{...t,datasets:s,projectId:c,defaultDataset:d},c),e[14]=s,e[15]=d,e[16]=c,e[17]=t,e[18]=b):b=e[18],b}class Ml extends P.Component{constructor(e){super(e),this.state={error:null,numRetries:0}}static getDerivedStateFromError(e){return{error:e instanceof Error?e.message:`${e}`}}handleRetryRender=()=>this.setState(e=>({error:null,numRetries:e.numRetries+1}));handleRetryWithCacheClear=()=>{Eo(),this.handleRetryRender()};render(){if(!this.state.error)return this.props.children;const e=this.state.error,r=this.state.numRetries>0;return l.jsx(fe,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(Vi,{width:3,children:l.jsxs(ve,{space:4,children:[l.jsx("div",{children:l.jsx(Le,{onClick:r?this.handleRetryWithCacheClear:this.handleRetryRender,text:r?"Clear cache and retry":"Retry",tone:"default"})}),l.jsx(Wi,{children:"An error occurred"}),l.jsx(fe,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsx(ve,{space:4,children:e&&l.jsx(Qr,{size:1,children:l.jsxs("strong",{children:["Error: ",e]})})})})]})})})}}function $l(t){const e=le.c(6);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={apiVersion:"1"},e[0]=r):r=e[0];const u=$u(r);let n;e[1]!==t.tool.options?(n={defaultApiVersion:vi,...t.tool.options},e[1]=t.tool.options,e[2]=n):n=e[2];const i=n;let o;return e[3]!==u||e[4]!==i?(o=l.jsx(Ml,{children:l.jsx(kl,{client:u,config:i})}),e[3]=u,e[4]=i,e[5]=o):o=e[5],o}export{$l as default};
